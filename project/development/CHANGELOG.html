<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸ“ æ›´æ–°æ—¥å¿— | NestBase</title>
    <meta name="description" content="ç°ä»£åŒ–å…¨æ ˆåº”ç”¨æ¡†æ¶æ–‡æ¡£">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/nestBase/assets/style.f9zfzs4B.css" as="style">
    <link rel="preload stylesheet" href="/nestBase/vp-icons.css" as="style">
    
    <script type="module" src="/nestBase/assets/app.DbT4jWY3.js"></script>
    <link rel="preload" href="/nestBase/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/nestBase/assets/chunks/framework.CHkYM5Ax.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/theme.BK8qkPJq.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/katex.Cu_Erd72.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/dagre-6UL2VRFP.1nqorA0S.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/cose-bilkent-S5V4N54A.BG8u3-D8.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/c4Diagram-YG6GDRKO.BX9mxR8M.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/flowDiagram-NV44I4VS.C4kEXsYh.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/erDiagram-Q2GNP2WA.BkiZSfEW.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/gitGraphDiagram-NY62KEGX.CcFks8J9.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/ganttDiagram-JELNMOA3.BhLIvO8O.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/infoDiagram-WHAUD3N6.DzwrnBW_.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/pieDiagram-ADFJNKIX.INtIvMIs.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/quadrantDiagram-AYHSOK5B.BcwzgfdN.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/xychartDiagram-PRI3JC2R.DIJ1Rm6b.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/requirementDiagram-UZGBJVZJ.Bs9h98sG.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/sequenceDiagram-WL72ISMW.BQXcTMVI.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/classDiagram-2ON5EDUG.C4F3g3ed.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/classDiagram-v2-WZHVMYZB.C4F3g3ed.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/stateDiagram-FKZM4ZOC.CUeMBEXd.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/stateDiagram-v2-4FDKWEC3.D3JYjUjk.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/journeyDiagram-XKPGCS4Q.Bnwlss2g.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/timeline-definition-IT6M3QCI.C0CxPIiT.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/mindmap-definition-VGOIOE7T.BvNhA5i_.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/kanban-definition-3W4ZIXB7.C9cZJQ2o.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/sankeyDiagram-TZEHDZUN.5CoCZ6So.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/diagram-S2PKOQOG.BZOe_jrm.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/diagram-QEK2KX5R.B2ZYdQgA.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/blockDiagram-VD42YOAC.DPWirL71.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/architectureDiagram-VXUJARFQ.CrFTLouW.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/diagram-PSM6KHXK.OzIp6get.js">
    <link rel="modulepreload" href="/nestBase/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/nestBase/assets/project_development_CHANGELOG.md.w5-qblhP.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-c5b340f5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-1adf3ada></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-1adf3ada>Skip to content</a><!--]--><!----><header class="VPNav" data-v-c5b340f5 data-v-4f77e6a2><div class="VPNavBar" data-v-4f77e6a2 data-v-23502b90><div class="wrapper" data-v-23502b90><div class="container" data-v-23502b90><div class="title" data-v-23502b90><div class="VPNavBarTitle has-sidebar" data-v-23502b90 data-v-19f43f6c><a class="title" href="/nestBase/" data-v-19f43f6c><!--[--><!--]--><!----><span data-v-19f43f6c>NestBase</span><!--[--><!--]--></a></div></div><div class="content" data-v-23502b90><div class="content-body" data-v-23502b90><!--[--><!--]--><div class="VPNavBarSearch search" data-v-23502b90><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-23502b90 data-v-70f47ae1><span id="main-nav-aria-label" class="visually-hidden" data-v-70f47ae1> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nestBase/guides/USAGE.zh-CN.html" tabindex="0" data-v-70f47ae1 data-v-25406061><!--[--><span data-v-25406061>æŒ‡å—</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nestBase/frontend/README.html" tabindex="0" data-v-70f47ae1 data-v-25406061><!--[--><span data-v-25406061>å‰ç«¯</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nestBase/backend/README.html" tabindex="0" data-v-70f47ae1 data-v-25406061><!--[--><span data-v-25406061>åç«¯</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nestBase/project/README.html" tabindex="0" data-v-70f47ae1 data-v-25406061><!--[--><span data-v-25406061>é¡¹ç›®ç®¡ç†</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-23502b90 data-v-7a219dbc><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-7a219dbc data-v-857579d8 data-v-5e249171><span class="check" data-v-5e249171><span class="icon" data-v-5e249171><!--[--><span class="vpi-sun sun" data-v-857579d8></span><span class="vpi-moon moon" data-v-857579d8></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-23502b90 data-v-8954fdda data-v-79b1515e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/myltx/nestBase" aria-label="github" target="_blank" rel="noopener" data-v-79b1515e data-v-3130917f><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-23502b90 data-v-c519e90f data-v-b813f9c2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b813f9c2><span class="vpi-more-horizontal icon" data-v-b813f9c2></span></button><div class="menu" data-v-b813f9c2><div class="VPMenu" data-v-b813f9c2 data-v-1bf12b08><!----><!--[--><!--[--><!----><div class="group" data-v-c519e90f><div class="item appearance" data-v-c519e90f><p class="label" data-v-c519e90f>Appearance</p><div class="appearance-action" data-v-c519e90f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-c519e90f data-v-857579d8 data-v-5e249171><span class="check" data-v-5e249171><span class="icon" data-v-5e249171><!--[--><span class="vpi-sun sun" data-v-857579d8></span><span class="vpi-moon moon" data-v-857579d8></span><!--]--></span></span></button></div></div></div><div class="group" data-v-c519e90f><div class="item social-links" data-v-c519e90f><div class="VPSocialLinks social-links-list" data-v-c519e90f data-v-79b1515e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/myltx/nestBase" aria-label="github" target="_blank" rel="noopener" data-v-79b1515e data-v-3130917f><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-23502b90 data-v-5702a5f9><span class="container" data-v-5702a5f9><span class="top" data-v-5702a5f9></span><span class="middle" data-v-5702a5f9></span><span class="bottom" data-v-5702a5f9></span></span></button></div></div></div></div><div class="divider" data-v-23502b90><div class="divider-line" data-v-23502b90></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-c5b340f5 data-v-75ae96a4><div class="container" data-v-75ae96a4><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-75ae96a4><span class="vpi-align-left menu-icon" data-v-75ae96a4></span><span class="menu-text" data-v-75ae96a4>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-75ae96a4 data-v-954fa734><button data-v-954fa734>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-c5b340f5 data-v-a8e137bb><div class="curtain" data-v-a8e137bb></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a8e137bb><span class="visually-hidden" id="sidebar-aria-label" data-v-a8e137bb> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-337849fc><section class="VPSidebarItem level-0" data-v-337849fc data-v-145eeefe><div class="item" role="button" tabindex="0" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><h2 class="text" data-v-145eeefe>é¡¹ç›®æ¦‚è§ˆ</h2><!----></div><div class="items" data-v-145eeefe><!--[--><div class="VPSidebarItem level-1 is-link" data-v-145eeefe data-v-145eeefe><div class="item" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><a class="VPLink link link" href="/nestBase/project/README.html" data-v-145eeefe><!--[--><p class="text" data-v-145eeefe>Readme</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-337849fc><section class="VPSidebarItem level-0" data-v-337849fc data-v-145eeefe><div class="item" role="button" tabindex="0" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><h2 class="text" data-v-145eeefe>ç¯å¢ƒæ­å»º</h2><!----></div><div class="items" data-v-145eeefe><!--[--><div class="VPSidebarItem level-1 is-link" data-v-145eeefe data-v-145eeefe><div class="item" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><a class="VPLink link link" href="/nestBase/project/setup/QUICKSTART.html" data-v-145eeefe><!--[--><p class="text" data-v-145eeefe>å¿«é€Ÿå¼€å§‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-145eeefe data-v-145eeefe><div class="item" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><a class="VPLink link link" href="/nestBase/project/setup/SUPABASE_SETUP.html" data-v-145eeefe><!--[--><p class="text" data-v-145eeefe>Supabase é…ç½®</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-145eeefe data-v-145eeefe><div class="item" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><a class="VPLink link link" href="/nestBase/project/setup/MONOREPO.html" data-v-145eeefe><!--[--><p class="text" data-v-145eeefe>Monorepo è¯´æ˜</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-337849fc><section class="VPSidebarItem level-0" data-v-337849fc data-v-145eeefe><div class="item" role="button" tabindex="0" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><h2 class="text" data-v-145eeefe>API å·¥å…·</h2><!----></div><div class="items" data-v-145eeefe><!--[--><div class="VPSidebarItem level-1 is-link" data-v-145eeefe data-v-145eeefe><div class="item" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><a class="VPLink link link" href="/nestBase/project/api-tools/OPENAPI_IMPLEMENTATION.html" data-v-145eeefe><!--[--><p class="text" data-v-145eeefe>OpenAPI å®ç°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-145eeefe data-v-145eeefe><div class="item" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><a class="VPLink link link" href="/nestBase/project/api-tools/APIFOX_IMPORT_GUIDE.html" data-v-145eeefe><!--[--><p class="text" data-v-145eeefe>Apifox å¯¼å…¥</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-337849fc><section class="VPSidebarItem level-0" data-v-337849fc data-v-145eeefe><div class="item" role="button" tabindex="0" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><h2 class="text" data-v-145eeefe>å¼€å‘æ–‡æ¡£</h2><!----></div><div class="items" data-v-145eeefe><!--[--><div class="VPSidebarItem level-1 is-link" data-v-145eeefe data-v-145eeefe><div class="item" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><a class="VPLink link link" href="/nestBase/project/development/DOCS_UPDATE_CHECKLIST.html" data-v-145eeefe><!--[--><p class="text" data-v-145eeefe>æ–‡æ¡£æ›´æ–°æ¸…å•</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-145eeefe data-v-145eeefe><div class="item" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><a class="VPLink link link" href="/nestBase/project/development/CODE_CHECK_REPORT.html" data-v-145eeefe><!--[--><p class="text" data-v-145eeefe>ä»£ç æ£€æŸ¥æŠ¥å‘Š</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-337849fc><section class="VPSidebarItem level-0" data-v-337849fc data-v-145eeefe><div class="item" role="button" tabindex="0" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><h2 class="text" data-v-145eeefe>é¡¹ç›®ç®¡ç†</h2><!----></div><div class="items" data-v-145eeefe><!--[--><div class="VPSidebarItem level-1 is-link" data-v-145eeefe data-v-145eeefe><div class="item" data-v-145eeefe><div class="indicator" data-v-145eeefe></div><a class="VPLink link link" href="/nestBase/project/project-management/DELIVERY.html" data-v-145eeefe><!--[--><p class="text" data-v-145eeefe>äº¤ä»˜æŠ¥å‘Š</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-c5b340f5 data-v-088b497b><div class="VPDoc has-sidebar has-aside" data-v-088b497b data-v-af74e104><!--[--><!--]--><div class="container" data-v-af74e104><div class="aside" data-v-af74e104><div class="aside-curtain" data-v-af74e104></div><div class="aside-container" data-v-af74e104><div class="aside-content" data-v-af74e104><div class="VPDocAside" data-v-af74e104 data-v-5700a071><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-5700a071 data-v-a3653095><div class="content" data-v-a3653095><div class="outline-marker" data-v-a3653095></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a3653095>On this page</div><ul class="VPDocOutlineItem root" data-v-a3653095 data-v-3554fc2f><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-5700a071></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-af74e104><div class="content-container" data-v-af74e104><!--[--><!--]--><main class="main" data-v-af74e104><div style="position:relative;" class="vp-doc _nestBase_project_development_CHANGELOG" data-v-af74e104><div><h1 id="ğŸ“-æ›´æ–°æ—¥å¿—" tabindex="-1">ğŸ“ æ›´æ–°æ—¥å¿— <a class="header-anchor" href="#ğŸ“-æ›´æ–°æ—¥å¿—" aria-label="Permalink to &quot;ğŸ“ æ›´æ–°æ—¥å¿—&quot;">â€‹</a></h1><h2 id="_1-3-1-2025-10-17" tabindex="-1">[1.3.1] - 2025-10-17 <a class="header-anchor" href="#_1-3-1-2025-10-17" aria-label="Permalink to &quot;[1.3.1] - 2025-10-17&quot;">â€‹</a></h2><h3 id="âœ¨-æ–°å¢åŠŸèƒ½" tabindex="-1">âœ¨ æ–°å¢åŠŸèƒ½ <a class="header-anchor" href="#âœ¨-æ–°å¢åŠŸèƒ½" aria-label="Permalink to &quot;âœ¨ æ–°å¢åŠŸèƒ½&quot;">â€‹</a></h3><h4 id="_1-èœå•æ¨¡å‹å­—æ®µå¢å¼º" tabindex="-1">1. <strong>èœå•æ¨¡å‹å­—æ®µå¢å¼º</strong> <a class="header-anchor" href="#_1-èœå•æ¨¡å‹å­—æ®µå¢å¼º" aria-label="Permalink to &quot;1. **èœå•æ¨¡å‹å­—æ®µå¢å¼º**&quot;">â€‹</a></h4><p>ä¸ºèœå•ç³»ç»Ÿæ·»åŠ äº† <code>component</code> å’Œ <code>status</code> å­—æ®µï¼Œæå‡äº†è·¯ç”±ç®¡ç†çš„çµæ´»æ€§å’ŒçŠ¶æ€æ§åˆ¶ã€‚</p><p><strong>æ–°å¢å­—æ®µ</strong>ï¼š</p><ul><li><code>component</code> (String?, å¯é€‰) - é¡µé¢ç»„ä»¶è·¯å¾„ï¼Œç”¨äºå‰ç«¯åŠ¨æ€åŠ è½½å¯¹åº”çš„é¡µé¢ç»„ä»¶</li><li><code>status</code> (MenuStatus, å¿…å¡«ï¼Œé»˜è®¤ ENABLED) - èœå•çŠ¶æ€æšä¸¾ï¼Œæ§åˆ¶èœå•çš„å¯ç”¨/ç¦ç”¨çŠ¶æ€</li></ul><p><strong>MenuStatus æšä¸¾</strong>ï¼š</p><div class="language-prisma vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">prisma</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MenuStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ENABLED  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  DISABLED </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¦ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>å½±å“çš„æ–‡ä»¶</strong>ï¼š</p><ul><li><code>prisma/schema.prisma</code> - æ·»åŠ  component å’Œ status å­—æ®µï¼Œæ–°å¢ MenuStatus æšä¸¾</li><li><code>src/modules/menus/dto/create-menu.dto.ts</code> - æ·»åŠ  component å’Œ status å­—æ®µéªŒè¯</li><li><code>src/modules/menus/dto/update-menu.dto.ts</code> - è‡ªåŠ¨ç»§æ‰¿æ–°å­—æ®µ</li><li><code>src/modules/menus/dto/query-menu.dto.ts</code> - æ·»åŠ  status è¿‡æ»¤æ¡ä»¶</li></ul><p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºèœå•æ—¶æŒ‡å®šç»„ä»¶è·¯å¾„å’ŒçŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;routeKey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dashboard&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;routePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/dashboard&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ä»ªè¡¨ç›˜&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;component&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;views/dashboard/index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–°å¢</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ENABLED&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                     // æ–°å¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ”§-æ”¹è¿›" tabindex="-1">ğŸ”§ æ”¹è¿› <a class="header-anchor" href="#ğŸ”§-æ”¹è¿›" aria-label="Permalink to &quot;ğŸ”§ æ”¹è¿›&quot;">â€‹</a></h3><h4 id="_1-èœå•çŠ¶æ€ç®¡ç†" tabindex="-1">1. <strong>èœå•çŠ¶æ€ç®¡ç†</strong> <a class="header-anchor" href="#_1-èœå•çŠ¶æ€ç®¡ç†" aria-label="Permalink to &quot;1. **èœå•çŠ¶æ€ç®¡ç†**&quot;">â€‹</a></h4><ul><li>æ”¯æŒé€šè¿‡ <code>status</code> å­—æ®µæ§åˆ¶èœå•çš„å¯ç”¨/ç¦ç”¨</li><li>æŸ¥è¯¢æ¥å£æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰èœå•</li><li>é»˜è®¤æ‰€æœ‰æ–°åˆ›å»ºçš„èœå•çŠ¶æ€ä¸º <code>ENABLED</code></li></ul><h4 id="_2-å‰ç«¯ç»„ä»¶è·¯å¾„æ˜ å°„" tabindex="-1">2. <strong>å‰ç«¯ç»„ä»¶è·¯å¾„æ˜ å°„</strong> <a class="header-anchor" href="#_2-å‰ç«¯ç»„ä»¶è·¯å¾„æ˜ å°„" aria-label="Permalink to &quot;2. **å‰ç«¯ç»„ä»¶è·¯å¾„æ˜ å°„**&quot;">â€‹</a></h4><ul><li><code>component</code> å­—æ®µå­˜å‚¨é¡µé¢ç»„ä»¶çš„ç›¸å¯¹è·¯å¾„</li><li>å‰ç«¯å¯ä»¥æ ¹æ®è¯¥å­—æ®µåŠ¨æ€å¯¼å…¥å¯¹åº”ç»„ä»¶</li><li>æ”¯æŒæ‡’åŠ è½½å’Œä»£ç åˆ†å‰²ä¼˜åŒ–</li></ul><h4 id="_3-dto-éªŒè¯å¢å¼º" tabindex="-1">3. <strong>DTO éªŒè¯å¢å¼º</strong> <a class="header-anchor" href="#_3-dto-éªŒè¯å¢å¼º" aria-label="Permalink to &quot;3. **DTO éªŒè¯å¢å¼º**&quot;">â€‹</a></h4><ul><li><code>component</code> å­—æ®µï¼šå¯é€‰å­—ç¬¦ä¸²ï¼Œæ”¯æŒè·¯å¾„æ ¼å¼éªŒè¯</li><li><code>status</code> å­—æ®µï¼šæšä¸¾ç±»å‹éªŒè¯ï¼Œä»…æ¥å— ENABLED æˆ– DISABLED</li></ul><h3 id="ğŸ“š-æ–‡æ¡£æ›´æ–°" tabindex="-1">ğŸ“š æ–‡æ¡£æ›´æ–° <a class="header-anchor" href="#ğŸ“š-æ–‡æ¡£æ›´æ–°" aria-label="Permalink to &quot;ğŸ“š æ–‡æ¡£æ›´æ–°&quot;">â€‹</a></h3><p>æ›´æ–°äº†ä»¥ä¸‹æ–‡æ¡£ä»¥åæ˜ æ–°å­—æ®µï¼š</p><ul><li><code>CHANGELOG.md</code> - æ·»åŠ  v1.3.1 ç‰ˆæœ¬æ›´æ–°è¯´æ˜</li></ul><h3 id="ğŸ› ï¸-æŠ€æœ¯å˜æ›´" tabindex="-1">ğŸ› ï¸ æŠ€æœ¯å˜æ›´ <a class="header-anchor" href="#ğŸ› ï¸-æŠ€æœ¯å˜æ›´" aria-label="Permalink to &quot;ğŸ› ï¸ æŠ€æœ¯å˜æ›´&quot;">â€‹</a></h3><h4 id="æ•°æ®åº“è¿ç§»" tabindex="-1">æ•°æ®åº“è¿ç§» <a class="header-anchor" href="#æ•°æ®åº“è¿ç§»" aria-label="Permalink to &quot;æ•°æ®åº“è¿ç§»&quot;">â€‹</a></h4><p>ä½¿ç”¨ <code>prisma db push</code> åº”ç”¨ schema æ›´æ”¹ï¼Œ<strong>ä¸ä¼šåˆ é™¤ç°æœ‰æ•°æ®</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ¨é€ schema å˜æ›´ï¼ˆä¿ç•™ç°æœ‰æ•°æ®ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡æ–°ç”Ÿæˆ Prisma Client</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span></span></code></pre></div><p><strong>æ•°æ®è¿ç§»è¯´æ˜</strong>ï¼š</p><ul><li>æ–°å­—æ®µ <code>component</code> ä¸ºå¯é€‰ï¼Œç°æœ‰èœå•æ•°æ®ä¿æŒ <code>null</code></li><li>æ–°å­—æ®µ <code>status</code> æœ‰é»˜è®¤å€¼ <code>ENABLED</code>ï¼Œç°æœ‰èœå•è‡ªåŠ¨è®¾ç½®ä¸ºå¯ç”¨çŠ¶æ€</li><li><strong>ç”¨æˆ·æ•°æ®ä¸å—å½±å“</strong>ï¼Œä¿ç•™æ‰€æœ‰ç°æœ‰ç”¨æˆ·è´¦æˆ·</li></ul><h3 id="ğŸ“Š-æ›´æ–°çš„æ•°æ®åº“æ¨¡å‹" tabindex="-1">ğŸ“Š æ›´æ–°çš„æ•°æ®åº“æ¨¡å‹ <a class="header-anchor" href="#ğŸ“Š-æ›´æ–°çš„æ•°æ®åº“æ¨¡å‹" aria-label="Permalink to &quot;ğŸ“Š æ›´æ–°çš„æ•°æ®åº“æ¨¡å‹&quot;">â€‹</a></h3><div class="language-prisma vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">prisma</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Menu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id             </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @id</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uuid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  routeKey       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @unique</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;route_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  routePath      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;route_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  title          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18nKey        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;i18n_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  icon           </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  localIcon      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;local_icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  iconFontSize   </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;icon_font_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  order          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  parentId       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;parent_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  parent         </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Menu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MenuHierarchy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parentId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">onDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Cascade</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  children       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Menu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MenuHierarchy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  component      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                      // æ–°å¢ï¼šé¡µé¢ç»„ä»¶è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  href           </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  hideInMenu     </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hide_in_menu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  activeMenu     </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;active_menu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  multiTab       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;multi_tab&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fixedIndexInTab </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fixed_index_in_tab&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  status         </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MenuStatus</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ENABLED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–°å¢ï¼šèœå•çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  keepAlive      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;keep_alive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  constant       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  query          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isActive       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;is_active&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createdAt      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  updatedAt      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @updatedAt</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;updated_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  roleMenus      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RoleMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  @@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;menus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ’¡-å‰ç«¯é›†æˆæŒ‡å—" tabindex="-1">ğŸ’¡ å‰ç«¯é›†æˆæŒ‡å— <a class="header-anchor" href="#ğŸ’¡-å‰ç«¯é›†æˆæŒ‡å—" aria-label="Permalink to &quot;ğŸ’¡ å‰ç«¯é›†æˆæŒ‡å—&quot;">â€‹</a></h3><h4 id="ä½¿ç”¨-component-å­—æ®µåŠ¨æ€åŠ è½½ç»„ä»¶" tabindex="-1">ä½¿ç”¨ component å­—æ®µåŠ¨æ€åŠ è½½ç»„ä»¶ <a class="header-anchor" href="#ä½¿ç”¨-component-å­—æ®µåŠ¨æ€åŠ è½½ç»„ä»¶" aria-label="Permalink to &quot;ä½¿ç”¨ component å­—æ®µåŠ¨æ€åŠ è½½ç»„ä»¶&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¹æ® component å­—æ®µåŠ¨æ€å¯¼å…¥ç»„ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loadComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">componentPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`@/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">componentPath</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.vue`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è½¬æ¢èœå•ä¸ºè·¯ç”±</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> convertToRoutes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">menus</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Menu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> menus.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">menu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: menu.routePath,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: menu.routeKey,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    component: menu.component </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loadComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(menu.component) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Layout,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    meta: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      title: menu.title,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      status: menu.status,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–°å¢çŠ¶æ€ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ... å…¶ä»– meta å­—æ®µ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    children: menu.children </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> convertToRoutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(menu.children) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h4 id="æ ¹æ®çŠ¶æ€è¿‡æ»¤èœå•" tabindex="-1">æ ¹æ®çŠ¶æ€è¿‡æ»¤èœå• <a class="header-anchor" href="#æ ¹æ®çŠ¶æ€è¿‡æ»¤èœå•" aria-label="Permalink to &quot;æ ¹æ®çŠ¶æ€è¿‡æ»¤èœå•&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä»…æ˜¾ç¤ºå¯ç”¨çš„èœå•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> enabledMenus</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> menus.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">menu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> menu.status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ENABLED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="ğŸ§ª-æµ‹è¯•å»ºè®®" tabindex="-1">ğŸ§ª æµ‹è¯•å»ºè®® <a class="header-anchor" href="#ğŸ§ª-æµ‹è¯•å»ºè®®" aria-label="Permalink to &quot;ğŸ§ª æµ‹è¯•å»ºè®®&quot;">â€‹</a></h3><h4 id="éœ€è¦æµ‹è¯•çš„åœºæ™¯" tabindex="-1">éœ€è¦æµ‹è¯•çš„åœºæ™¯ <a class="header-anchor" href="#éœ€è¦æµ‹è¯•çš„åœºæ™¯" aria-label="Permalink to &quot;éœ€è¦æµ‹è¯•çš„åœºæ™¯&quot;">â€‹</a></h4><ol><li><p><strong>component å­—æ®µ</strong></p><ul><li>âœ… åˆ›å»ºèœå•æ—¶è®¾ç½®ç»„ä»¶è·¯å¾„</li><li>âœ… æ›´æ–°èœå•çš„ç»„ä»¶è·¯å¾„</li><li>âœ… ç»„ä»¶è·¯å¾„ä¸ºç©ºæ—¶çš„å¤„ç†</li><li>âœ… å‰ç«¯æ ¹æ®è·¯å¾„åŠ¨æ€åŠ è½½ç»„ä»¶</li></ul></li><li><p><strong>status å­—æ®µ</strong></p><ul><li>âœ… æ–°èœå•é»˜è®¤çŠ¶æ€ä¸º ENABLED</li><li>âœ… è®¾ç½®èœå•çŠ¶æ€ä¸º DISABLED</li><li>âœ… æŒ‰çŠ¶æ€ç­›é€‰èœå•åˆ—è¡¨</li><li>âœ… ç¦ç”¨èœå•åœ¨å‰ç«¯çš„æ˜¾ç¤ºæ§åˆ¶</li></ul></li><li><p><strong>æ•°æ®å®Œæ•´æ€§</strong></p><ul><li>âœ… ç°æœ‰èœå•æ•°æ®å®Œæ•´ä¿ç•™</li><li>âœ… ç°æœ‰ç”¨æˆ·æ•°æ®ä¸å—å½±å“</li><li>âœ… è§’è‰²èœå•å…³è”å…³ç³»ä¿æŒä¸å˜</li></ul></li></ol><h3 id="ğŸ“¦-éƒ¨ç½²æ³¨æ„äº‹é¡¹" tabindex="-1">ğŸ“¦ éƒ¨ç½²æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#ğŸ“¦-éƒ¨ç½²æ³¨æ„äº‹é¡¹" aria-label="Permalink to &quot;ğŸ“¦ éƒ¨ç½²æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h3><h4 id="è¿ç§»æ­¥éª¤" tabindex="-1">è¿ç§»æ­¥éª¤ <a class="header-anchor" href="#è¿ç§»æ­¥éª¤" aria-label="Permalink to &quot;è¿ç§»æ­¥éª¤&quot;">â€‹</a></h4><ol><li><p><strong>åº”ç”¨æ•°æ®åº“å˜æ›´</strong>ï¼ˆæ— éœ€å¤‡ä»½ï¼Œå®‰å…¨æ“ä½œï¼‰</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apps/backend</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span></span></code></pre></div></li><li><p><strong>é‡å¯åº”ç”¨</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å¼€å‘ç¯å¢ƒ</span></span></code></pre></div></li><li><p><strong>éªŒè¯å­—æ®µ</strong></p><ul><li>æ£€æŸ¥ç°æœ‰èœå•æ˜¯å¦æ­£ç¡®æ˜¾ç¤º</li><li>éªŒè¯æ–°å­—æ®µæ˜¯å¦å¯ç”¨</li><li>æµ‹è¯•èœå•çš„åˆ›å»ºå’Œæ›´æ–°</li></ul></li></ol><h4 id="å‰ç«¯åŒæ­¥æ›´æ–°" tabindex="-1">å‰ç«¯åŒæ­¥æ›´æ–° <a class="header-anchor" href="#å‰ç«¯åŒæ­¥æ›´æ–°" aria-label="Permalink to &quot;å‰ç«¯åŒæ­¥æ›´æ–°&quot;">â€‹</a></h4><p><strong>æ›´æ–°èœå•ç±»å‹å®šä¹‰</strong>ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Menu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  routeKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  routePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  component</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–°å¢</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ENABLED&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;DISABLED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–°å¢</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ... å…¶ä»–å­—æ®µ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ”—-ç›¸å…³ç‰ˆæœ¬" tabindex="-1">ğŸ”— ç›¸å…³ç‰ˆæœ¬ <a class="header-anchor" href="#ğŸ”—-ç›¸å…³ç‰ˆæœ¬" aria-label="Permalink to &quot;ğŸ”— ç›¸å…³ç‰ˆæœ¬&quot;">â€‹</a></h3><ul><li>åŸºäºç‰ˆæœ¬ï¼šv1.3.0</li><li>å‰ç½®ä¾èµ–ï¼šèœå•ç®¡ç†ç³»ç»Ÿ (v1.3.0)</li></ul><hr><h2 id="_1-3-0-2025-10-17" tabindex="-1">[1.3.0] - 2025-10-17 <a class="header-anchor" href="#_1-3-0-2025-10-17" aria-label="Permalink to &quot;[1.3.0] - 2025-10-17&quot;">â€‹</a></h2><h3 id="âœ¨-æ–°å¢åŠŸèƒ½-1" tabindex="-1">âœ¨ æ–°å¢åŠŸèƒ½ <a class="header-anchor" href="#âœ¨-æ–°å¢åŠŸèƒ½-1" aria-label="Permalink to &quot;âœ¨ æ–°å¢åŠŸèƒ½&quot;">â€‹</a></h3><h4 id="_1-èœå•ç®¡ç†ç³»ç»Ÿ" tabindex="-1">1. <strong>èœå•ç®¡ç†ç³»ç»Ÿ</strong> <a class="header-anchor" href="#_1-èœå•ç®¡ç†ç³»ç»Ÿ" aria-label="Permalink to &quot;1. **èœå•ç®¡ç†ç³»ç»Ÿ**&quot;">â€‹</a></h4><p>åŸºäºå‰ç«¯ Vue Router ç±»å‹å®šä¹‰ï¼Œå®ç°äº†å®Œæ•´çš„åç«¯èœå•ç®¡ç†ç³»ç»Ÿã€‚</p><p><strong>æ ¸å¿ƒç‰¹æ€§</strong>ï¼š</p><ul><li>æ”¯æŒæ ‘å½¢å±‚çº§ç»“æ„ï¼ˆçˆ¶å­èœå•å…³ç³»ï¼‰</li><li>åŸºäºè§’è‰²çš„èœå•æƒé™æ§åˆ¶ï¼ˆRBACï¼‰</li><li>ä¸å‰ç«¯è·¯ç”±ç±»å‹å®Œå…¨å…¼å®¹</li><li>æ”¯æŒå›½é™…åŒ–é…ç½®ï¼ˆi18nKeyï¼‰</li><li>æ”¯æŒå›¾æ ‡é…ç½®ï¼ˆIconify å’Œæœ¬åœ°å›¾æ ‡ï¼‰</li><li>æ”¯æŒèœå•æ’åºã€éšè—ã€ç¼“å­˜ç­‰ä¸°å¯Œé…ç½®</li><li>åŠ¨æ€è·¯ç”±ç”Ÿæˆ</li></ul><p><strong>å½±å“çš„æ–‡ä»¶</strong>ï¼š</p><ul><li><code>prisma/schema.prisma</code> - æ–°å¢ Menu å’Œ RoleMenu æ¨¡å‹</li><li><code>src/modules/menus/</code> - å®Œæ•´çš„èœå•æ¨¡å—</li><li><code>src/common/decorators/get-user.decorator.ts</code> - æ–°å¢ç”¨æˆ·è£…é¥°å™¨</li><li><code>src/app.module.ts</code> - æ³¨å†Œèœå•æ¨¡å—</li><li><code>prisma/seed.ts</code> - æ·»åŠ ç¤ºä¾‹èœå•æ•°æ®</li></ul><p><strong>æ•°æ®åº“æ¨¡å‹</strong>ï¼š</p><div class="language-prisma vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">prisma</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// èœå•æ¨¡å‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Menu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id              </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @id</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uuid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  routeKey        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @unique</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;route_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  routePath       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;route_path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  title           </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  i18nKey         </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;i18n_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  icon            </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  localIcon       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;local_icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  iconFontSize    </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;icon_font_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  order           </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  parentId        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;parent_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  parent          </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Menu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MenuHierarchy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parentId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">onDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Cascade</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  children        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Menu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MenuHierarchy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  href            </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  hideInMenu      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hide_in_menu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  activeMenu      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;active_menu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  multiTab        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;multi_tab&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fixedIndexInTab </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fixed_index_in_tab&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  keepAlive       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;keep_alive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  constant        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  query           </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isActive        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;is_active&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createdAt       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  updatedAt       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @updatedAt</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;updated_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  roleMenus       </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RoleMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è§’è‰²èœå•å…³è”æ¨¡å‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">model</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RoleMenu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @id</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uuid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  role      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Role</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  menuId    </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   @map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;menu_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  menu      </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Menu</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     @relation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">menuId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">references</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">onDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Cascade</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createdAt </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DateTime</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;created_at&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  @@unique</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">role</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">menuId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="_2-èœå•-api-æ¥å£" tabindex="-1">2. <strong>èœå• API æ¥å£</strong> <a class="header-anchor" href="#_2-èœå•-api-æ¥å£" aria-label="Permalink to &quot;2. **èœå• API æ¥å£**&quot;">â€‹</a></h4><p><strong>ç®¡ç†æ¥å£ï¼ˆä»…ç®¡ç†å‘˜ï¼‰</strong>ï¼š</p><ul><li><code>POST /api/menus</code> - åˆ›å»ºèœå•</li><li><code>GET /api/menus</code> - æŸ¥è¯¢æ‰€æœ‰èœå•ï¼ˆæ”¯æŒæœç´¢å’Œç­›é€‰ï¼‰</li><li><code>GET /api/menus/tree</code> - è·å–æ ‘å½¢èœå•ç»“æ„</li><li><code>GET /api/menus/:id</code> - æ ¹æ® ID æŸ¥è¯¢èœå•</li><li><code>PATCH /api/menus/:id</code> - æ›´æ–°èœå•</li><li><code>DELETE /api/menus/:id</code> - åˆ é™¤èœå•</li></ul><p><strong>æƒé™ç®¡ç†æ¥å£ï¼ˆä»…ç®¡ç†å‘˜ï¼‰</strong>ï¼š</p><ul><li><code>POST /api/menus/assign</code> - ä¸ºè§’è‰²åˆ†é…èœå•</li><li><code>GET /api/menus/role/:role</code> - è·å–è§’è‰²çš„èœå•åˆ—è¡¨</li></ul><p><strong>ç”¨æˆ·æ¥å£</strong>ï¼š</p><ul><li><code>GET /api/menus/user-routes</code> - è·å–å½“å‰ç”¨æˆ·çš„è·¯ç”±èœå•ï¼ˆæ ‘å½¢ç»“æ„ï¼‰</li></ul><h4 id="_3-getuser-è£…é¥°å™¨" tabindex="-1">3. <strong>GetUser è£…é¥°å™¨</strong> <a class="header-anchor" href="#_3-getuser-è£…é¥°å™¨" aria-label="Permalink to &quot;3. **GetUser è£…é¥°å™¨**&quot;">â€‹</a></h4><p>æ–°å¢ <code>@GetUser()</code> è£…é¥°å™¨ï¼Œç”¨äºä»è¯·æ±‚ä¸­æå–å½“å‰ç”¨æˆ·ä¿¡æ¯ã€‚</p><p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user-routes&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUserRoutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() user: any) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.menusService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findByRoles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user.roles);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ”§-æ”¹è¿›-1" tabindex="-1">ğŸ”§ æ”¹è¿› <a class="header-anchor" href="#ğŸ”§-æ”¹è¿›-1" aria-label="Permalink to &quot;ğŸ”§ æ”¹è¿›&quot;">â€‹</a></h3><h4 id="_1-èœå•æœåŠ¡åŠŸèƒ½" tabindex="-1">1. <strong>èœå•æœåŠ¡åŠŸèƒ½</strong> <a class="header-anchor" href="#_1-èœå•æœåŠ¡åŠŸèƒ½" aria-label="Permalink to &quot;1. **èœå•æœåŠ¡åŠŸèƒ½**&quot;">â€‹</a></h4><ul><li>æ”¯æŒçˆ¶å­èœå•å±‚çº§å…³ç³»</li><li>è‡ªåŠ¨æ„å»ºæ ‘å½¢ç»“æ„</li><li>æ ¹æ®ç”¨æˆ·è§’è‰²è¿‡æ»¤èœå•</li><li>èœå•å¯ç”¨/ç¦ç”¨çŠ¶æ€ç®¡ç†</li><li>çº§è”åˆ é™¤ä¿æŠ¤ï¼ˆæœ‰å­èœå•çš„ä¸èƒ½åˆ é™¤ï¼‰</li></ul><h4 id="_2-è§’è‰²èœå•å…³è”" tabindex="-1">2. <strong>è§’è‰²èœå•å…³è”</strong> <a class="header-anchor" href="#_2-è§’è‰²èœå•å…³è”" aria-label="Permalink to &quot;2. **è§’è‰²èœå•å…³è”**&quot;">â€‹</a></h4><ul><li>ä¸€å¯¹å¤šå…³ç³»ï¼šä¸€ä¸ªè§’è‰²å¯ä»¥æ‹¥æœ‰å¤šä¸ªèœå•</li><li>å”¯ä¸€çº¦æŸï¼šåŒä¸€è§’è‰²ä¸èƒ½é‡å¤å…³è”åŒä¸€èœå•</li><li>çº§è”åˆ é™¤ï¼šåˆ é™¤èœå•æ—¶è‡ªåŠ¨åˆ é™¤å…³è”å…³ç³»</li><li>æ‰¹é‡åˆ†é…ï¼šæ”¯æŒä¸€æ¬¡æ€§ä¸ºè§’è‰²åˆ†é…å¤šä¸ªèœå•</li></ul><h4 id="_3-å‰ç«¯è·¯ç”±å…¼å®¹" tabindex="-1">3. <strong>å‰ç«¯è·¯ç”±å…¼å®¹</strong> <a class="header-anchor" href="#_3-å‰ç«¯è·¯ç”±å…¼å®¹" aria-label="Permalink to &quot;3. **å‰ç«¯è·¯ç”±å…¼å®¹**&quot;">â€‹</a></h4><p>å®Œå…¨å…¼å®¹å‰ç«¯ <code>route.d.ts</code> å®šä¹‰çš„æ‰€æœ‰å­—æ®µï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RouteMeta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.title</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  i18nKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;               </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.i18nKey</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  roles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];               </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… é€šè¿‡ RoleMenu å…³è”</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  keepAlive</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.keepAlive</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  constant</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.constant</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  icon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.icon</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  localIcon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.localIcon</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  iconFontSize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.iconFontSize</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  order</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;                 </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.order</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  href</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.href</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  hideInMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.hideInMenu</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  activeMenu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.activeMenu</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  multiTab</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.multiTab</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  fixedIndexInTab</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.fixedIndexInTab</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }[]; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ˜ å°„åˆ° Menu.query (JSON)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ“š-æ–‡æ¡£æ›´æ–°-1" tabindex="-1">ğŸ“š æ–‡æ¡£æ›´æ–° <a class="header-anchor" href="#ğŸ“š-æ–‡æ¡£æ›´æ–°-1" aria-label="Permalink to &quot;ğŸ“š æ–‡æ¡£æ›´æ–°&quot;">â€‹</a></h3><h4 id="æ›´æ–°çš„æ–‡æ¡£" tabindex="-1">æ›´æ–°çš„æ–‡æ¡£ <a class="header-anchor" href="#æ›´æ–°çš„æ–‡æ¡£" aria-label="Permalink to &quot;æ›´æ–°çš„æ–‡æ¡£&quot;">â€‹</a></h4><ol><li><p><strong>README.md</strong></p><ul><li>æ·»åŠ èœå•æ¨¡å—æ¥å£è¯´æ˜</li><li>æ·»åŠ èœå•ç³»ç»Ÿç‰¹æ€§ä»‹ç»</li><li>æ›´æ–°ä¸»è¦æ¥å£åˆ—è¡¨</li></ul></li><li><p><strong>CHANGELOG.md</strong></p><ul><li>æ·»åŠ  v1.3.0 ç‰ˆæœ¬æ›´æ–°æ—¥å¿—</li><li>è¯¦ç»†è®°å½•èœå•ç³»ç»Ÿæ‰€æœ‰åŠŸèƒ½</li><li>æä¾›å‰ç«¯é›†æˆæŒ‡å—</li></ul></li></ol><h3 id="ğŸ› ï¸-æŠ€æœ¯å˜æ›´-1" tabindex="-1">ğŸ› ï¸ æŠ€æœ¯å˜æ›´ <a class="header-anchor" href="#ğŸ› ï¸-æŠ€æœ¯å˜æ›´-1" aria-label="Permalink to &quot;ğŸ› ï¸ æŠ€æœ¯å˜æ›´&quot;">â€‹</a></h3><h4 id="æ•°æ®åº“è¿ç§»-1" tabindex="-1">æ•°æ®åº“è¿ç§» <a class="header-anchor" href="#æ•°æ®åº“è¿ç§»-1" aria-label="Permalink to &quot;æ•°æ®åº“è¿ç§»&quot;">â€‹</a></h4><p>æ–°å¢ä¸¤å¼ è¡¨ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ¨é€ schema å˜æ›´</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡æ–°ç”Ÿæˆ Prisma Client</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¡«å……ç¤ºä¾‹èœå•æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seed</span></span></code></pre></div><h4 id="ç¤ºä¾‹èœå•æ•°æ®" tabindex="-1">ç¤ºä¾‹èœå•æ•°æ® <a class="header-anchor" href="#ç¤ºä¾‹èœå•æ•°æ®" aria-label="Permalink to &quot;ç¤ºä¾‹èœå•æ•°æ®&quot;">â€‹</a></h4><p>ç§å­è„šæœ¬åˆ›å»ºäº†ä»¥ä¸‹èœå•ç»“æ„ï¼š</p><p><strong>æ ¹èœå•</strong>ï¼š</p><ol><li>é¦–é¡µ (<code>home</code>)</li><li>ç”¨æˆ·ç®¡ç† (<code>user-management</code>) <ul><li>ç”¨æˆ·åˆ—è¡¨ (<code>user-list</code>)</li><li>è§’è‰²ç®¡ç† (<code>role-management</code>)</li></ul></li><li>ç³»ç»Ÿç®¡ç† (<code>system</code>) <ul><li>èœå•ç®¡ç† (<code>menu-management</code>)</li><li>ç³»ç»Ÿè®¾ç½® (<code>system-settings</code>)</li></ul></li><li>é¡¹ç›®ç®¡ç† (<code>projects</code>)</li></ol><p><strong>è§’è‰²èœå•åˆ†é…</strong>ï¼š</p><ul><li><strong>ADMIN</strong>: æ‹¥æœ‰æ‰€æœ‰èœå•ï¼ˆ8ä¸ªï¼‰</li><li><strong>MODERATOR</strong>: æ‹¥æœ‰é¦–é¡µã€ç”¨æˆ·ç®¡ç†ã€é¡¹ç›®ç®¡ç†ï¼ˆ4ä¸ªï¼‰</li><li><strong>USER</strong>: æ‹¥æœ‰é¦–é¡µã€é¡¹ç›®ç®¡ç†ï¼ˆ2ä¸ªï¼‰</li></ul><h3 id="ğŸ“Š-api-ä½¿ç”¨ç¤ºä¾‹" tabindex="-1">ğŸ“Š API ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ğŸ“Š-api-ä½¿ç”¨ç¤ºä¾‹" aria-label="Permalink to &quot;ğŸ“Š API ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h3><h4 id="è·å–å½“å‰ç”¨æˆ·çš„è·¯ç”±èœå•" tabindex="-1">è·å–å½“å‰ç”¨æˆ·çš„è·¯ç”±èœå• <a class="header-anchor" href="#è·å–å½“å‰ç”¨æˆ·çš„è·¯ç”±èœå•" aria-label="Permalink to &quot;è·å–å½“å‰ç”¨æˆ·çš„è·¯ç”±èœå•&quot;">â€‹</a></h4><p><strong>è¯·æ±‚</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /api/menus/user-routes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Authorization:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Bearer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">toke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>å“åº”</strong>ï¼ˆæ ‘å½¢ç»“æ„ï¼‰ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uuid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;routeKey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;routePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é¦–é¡µ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;i18nKey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;route.home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mdi:home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;order&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;children&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uuid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;routeKey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user-management&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;routePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/user-management&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·ç®¡ç†&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mdi:account-group&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;order&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;children&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uuid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;routeKey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user-list&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;routePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/user-management/list&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·åˆ—è¡¨&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mdi:account-multiple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;order&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;children&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="ä¸ºè§’è‰²åˆ†é…èœå•" tabindex="-1">ä¸ºè§’è‰²åˆ†é…èœå• <a class="header-anchor" href="#ä¸ºè§’è‰²åˆ†é…èœå•" aria-label="Permalink to &quot;ä¸ºè§’è‰²åˆ†é…èœå•&quot;">â€‹</a></h4><p><strong>è¯·æ±‚</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /api/menus/assign</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Content-Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> application/json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Authorization:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Bearer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">admin_toke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;role&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;USER&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;menuIds&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;menu-id-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;menu-id-2&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;menu-id-3&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>å“åº”</strong>ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è§’è‰²èœå•åˆ†é…æˆåŠŸ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;USER&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;menuCount&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="åˆ›å»ºèœå•" tabindex="-1">åˆ›å»ºèœå• <a class="header-anchor" href="#åˆ›å»ºèœå•" aria-label="Permalink to &quot;åˆ›å»ºèœå•&quot;">â€‹</a></h4><p><strong>è¯·æ±‚</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /api/menus</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Content-Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> application/json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Authorization:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Bearer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">admin_toke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;routeKey&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dashboard&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;routePath&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/dashboard&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;title&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ä»ªè¡¨ç›˜&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;i18nKey&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;route.dashboard&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;icon&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;mdi:view-dashboard&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;order&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;keepAlive&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ§ª-æµ‹è¯•ç»“æœ" tabindex="-1">ğŸ§ª æµ‹è¯•ç»“æœ <a class="header-anchor" href="#ğŸ§ª-æµ‹è¯•ç»“æœ" aria-label="Permalink to &quot;ğŸ§ª æµ‹è¯•ç»“æœ&quot;">â€‹</a></h3><p>æ‰€æœ‰æ¥å£æµ‹è¯•é€šè¿‡ï¼š</p><ul><li>âœ… åˆ›å»ºèœå• - æ”¯æŒå±‚çº§ç»“æ„</li><li>âœ… æŸ¥è¯¢æ‰€æœ‰èœå• - è¿”å›æ ‘å½¢æ•°æ®</li><li>âœ… æŸ¥è¯¢ç”¨æˆ·è·¯ç”± - æ ¹æ®è§’è‰²è¿‡æ»¤</li><li>âœ… æ›´æ–°èœå• - æ”¯æŒçˆ¶èœå•ä¿®æ”¹</li><li>âœ… åˆ é™¤èœå• - çº§è”åˆ é™¤ä¿æŠ¤</li><li>âœ… è§’è‰²èœå•åˆ†é… - æ‰¹é‡åˆ†é…æˆåŠŸ</li><li>âœ… æƒé™æ§åˆ¶ - ADMIN å¯ç®¡ç†ï¼ŒUSER åªèƒ½æŸ¥çœ‹è‡ªå·±çš„è·¯ç”±</li></ul><p><strong>è§’è‰²æƒé™éªŒè¯</strong>ï¼š</p><ul><li>ADMIN ç”¨æˆ·ï¼šå¯ä»¥çœ‹åˆ°å…¨éƒ¨ 8 ä¸ªèœå•</li><li>MODERATOR ç”¨æˆ·ï¼šå¯ä»¥çœ‹åˆ° 4 ä¸ªèœå•</li><li>USER ç”¨æˆ·ï¼šå¯ä»¥çœ‹åˆ° 2 ä¸ªèœå•</li></ul><h3 id="ğŸ’¡-å‰ç«¯é›†æˆæŒ‡å—-1" tabindex="-1">ğŸ’¡ å‰ç«¯é›†æˆæŒ‡å— <a class="header-anchor" href="#ğŸ’¡-å‰ç«¯é›†æˆæŒ‡å—-1" aria-label="Permalink to &quot;ğŸ’¡ å‰ç«¯é›†æˆæŒ‡å—&quot;">â€‹</a></h3><h4 id="_1-è·å–ç”¨æˆ·è·¯ç”±" tabindex="-1">1. è·å–ç”¨æˆ·è·¯ç”± <a class="header-anchor" href="#_1-è·å–ç”¨æˆ·è·¯ç”±" aria-label="Permalink to &quot;1. è·å–ç”¨æˆ·è·¯ç”±&quot;">â€‹</a></h4><p>åœ¨ç”¨æˆ·ç™»å½•åï¼Œè°ƒç”¨ <code>/api/menus/user-routes</code> è·å–è¯¥ç”¨æˆ·çš„è·¯ç”±é…ç½®ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–ç”¨æˆ·è·¯ç”±</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getUserRoutes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> axios.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/menus/user-routes&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    headers: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Authorization: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`Bearer ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">token</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.data.data; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›æ ‘å½¢èœå•ç»“æ„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h4 id="_2-è½¬æ¢ä¸ºå‰ç«¯è·¯ç”±" tabindex="-1">2. è½¬æ¢ä¸ºå‰ç«¯è·¯ç”± <a class="header-anchor" href="#_2-è½¬æ¢ä¸ºå‰ç«¯è·¯ç”±" aria-label="Permalink to &quot;2. è½¬æ¢ä¸ºå‰ç«¯è·¯ç”±&quot;">â€‹</a></h4><p>åç«¯è¿”å›çš„èœå•æ•°æ®å¯ä»¥ç›´æ¥æ˜ å°„åˆ°å‰ç«¯è·¯ç”±ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> convertToRoutes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">menus</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Menu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> menus.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">menu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: menu.routePath,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: menu.routeKey,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    meta: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      title: menu.title,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      i18nKey: menu.i18nKey,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      icon: menu.icon,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      localIcon: menu.localIcon,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      order: menu.order,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      hideInMenu: menu.hideInMenu,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      keepAlive: menu.keepAlive,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ... å…¶ä»–å­—æ®µ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    children: menu.children </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> convertToRoutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(menu.children) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h4 id="_3-åŠ¨æ€æ·»åŠ è·¯ç”±" tabindex="-1">3. åŠ¨æ€æ·»åŠ è·¯ç”± <a class="header-anchor" href="#_3-åŠ¨æ€æ·»åŠ è·¯ç”±" aria-label="Permalink to &quot;3. åŠ¨æ€æ·»åŠ è·¯ç”±&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useRouter } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue-router&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userRoutes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getUserRoutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> convertToRoutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userRoutes);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŠ¨æ€æ·»åŠ è·¯ç”±</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">routes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(route);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="ğŸ”®-æœªæ¥è®¡åˆ’" tabindex="-1">ğŸ”® æœªæ¥è®¡åˆ’ <a class="header-anchor" href="#ğŸ”®-æœªæ¥è®¡åˆ’" aria-label="Permalink to &quot;ğŸ”® æœªæ¥è®¡åˆ’&quot;">â€‹</a></h3><ol><li><p><strong>èœå•ç®¡ç†åå°</strong></p><ul><li>å¯è§†åŒ–èœå•æ ‘ç¼–è¾‘å™¨</li><li>æ‹–æ‹½æ’åºåŠŸèƒ½</li><li>èœå•å›¾æ ‡é€‰æ‹©å™¨</li></ul></li><li><p><strong>æƒé™ç»†åŒ–</strong></p><ul><li>æ”¯æŒæŒ‰é’®çº§åˆ«æƒé™æ§åˆ¶</li><li>èœå•ä¸æ¥å£æƒé™å…³è”</li><li>æƒé™çŸ©é˜µå¯è§†åŒ–</li></ul></li><li><p><strong>èœå•ç¼“å­˜</strong></p><ul><li>Redis ç¼“å­˜ç”¨æˆ·è·¯ç”±</li><li>æå‡è·¯ç”±æŸ¥è¯¢æ€§èƒ½</li><li>æ”¯æŒè·¯ç”±çƒ­æ›´æ–°</li></ul></li></ol><h3 id="ğŸ“-ç›¸å…³æ–‡æ¡£" tabindex="-1">ğŸ“ ç›¸å…³æ–‡æ¡£ <a class="header-anchor" href="#ğŸ“-ç›¸å…³æ–‡æ¡£" aria-label="Permalink to &quot;ğŸ“ ç›¸å…³æ–‡æ¡£&quot;">â€‹</a></h3><ul><li><a href="./README.html#api-æ–‡æ¡£">API æ–‡æ¡£</a></li><li><a href="./README.html#æ•°æ®åº“æ¨¡å‹">æ•°æ®åº“æ¨¡å‹</a></li><li><a href="apps/frontend/route.d.ts">å‰ç«¯è·¯ç”±å®šä¹‰</a></li></ul><hr><h2 id="_1-2-0-2025-10-17" tabindex="-1">[1.2.0] - 2025-10-17 <a class="header-anchor" href="#_1-2-0-2025-10-17" aria-label="Permalink to &quot;[1.2.0] - 2025-10-17&quot;">â€‹</a></h2><h3 id="âœ¨-æ–°å¢åŠŸèƒ½-2" tabindex="-1">âœ¨ æ–°å¢åŠŸèƒ½ <a class="header-anchor" href="#âœ¨-æ–°å¢åŠŸèƒ½-2" aria-label="Permalink to &quot;âœ¨ æ–°å¢åŠŸèƒ½&quot;">â€‹</a></h3><h4 id="_1-å¤šè§’è‰²æ”¯æŒ-multi-role-rbac" tabindex="-1">1. <strong>å¤šè§’è‰²æ”¯æŒï¼ˆMulti-Role RBACï¼‰</strong> <a class="header-anchor" href="#_1-å¤šè§’è‰²æ”¯æŒ-multi-role-rbac" aria-label="Permalink to &quot;1. **å¤šè§’è‰²æ”¯æŒï¼ˆMulti-Role RBACï¼‰**&quot;">â€‹</a></h4><ul><li>ç”¨æˆ·ç°åœ¨å¯ä»¥æ‹¥æœ‰å¤šä¸ªè§’è‰²ï¼ˆè§’è‰²æ•°ç»„ï¼‰</li><li>ä»å•è§’è‰² <code>role: Role</code> å‡çº§ä¸ºå¤šè§’è‰² <code>roles: Role[]</code></li><li>æ”¯æŒç”¨æˆ·åŒæ—¶æ‹¥æœ‰ ADMINã€MODERATOR ç­‰å¤šä¸ªè§’è‰²</li><li>RolesGuard æ›´æ–°ä¸º&quot;OR&quot;é€»è¾‘ï¼šç”¨æˆ·æ‹¥æœ‰ä»»ä¸€æ‰€éœ€è§’è‰²å³å¯è®¿é—®</li></ul><p><strong>å½±å“çš„æ–‡ä»¶</strong>:</p><ul><li><code>prisma/schema.prisma</code> - æ›´æ–° User æ¨¡å‹ï¼Œ<code>role</code> â†’ <code>roles[]</code></li><li><code>src/modules/auth/dto/register.dto.ts</code> - æ—  roles å­—æ®µï¼ˆå®‰å…¨é™åˆ¶ï¼‰</li><li><code>src/modules/users/dto/create-user.dto.ts</code> - æ”¯æŒ <code>roles</code> æ•°ç»„</li><li><code>src/modules/users/dto/update-user.dto.ts</code> - æ”¯æŒ <code>roles</code> æ•°ç»„æ›´æ–°</li><li><code>src/modules/auth/auth.service.ts</code> - JWT payload åŒ…å« <code>roles</code> æ•°ç»„</li><li><code>src/modules/users/users.service.ts</code> - æ‰€æœ‰æŸ¥è¯¢æ”¯æŒå¤šè§’è‰²</li><li><code>src/common/guards/roles.guard.ts</code> - å¤šè§’è‰²éªŒè¯é€»è¾‘</li><li><code>src/modules/auth/strategies/jwt.strategy.ts</code> - JWT éªŒè¯æ”¯æŒå¤šè§’è‰²</li><li><code>prisma/seed.ts</code> - åˆ›å»ºå¤šè§’è‰²æµ‹è¯•ç”¨æˆ·</li></ul><p><strong>æ•°æ®åº“å˜æ›´</strong>:</p><div class="language-prisma vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">prisma</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¹‹å‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">role Role </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">USER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç°åœ¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">roles Role[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">USER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></div><p><strong>API å“åº”å˜åŒ–</strong>:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¹‹å‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ADMIN&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç°åœ¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;roles&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ADMIN&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MODERATOR&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="_2-ç”¨æˆ·å¤´åƒåŠŸèƒ½" tabindex="-1">2. <strong>ç”¨æˆ·å¤´åƒåŠŸèƒ½</strong> <a class="header-anchor" href="#_2-ç”¨æˆ·å¤´åƒåŠŸèƒ½" aria-label="Permalink to &quot;2. **ç”¨æˆ·å¤´åƒåŠŸèƒ½**&quot;">â€‹</a></h4><ul><li>æ–°å¢ <code>avatar</code> å­—æ®µï¼Œæ”¯æŒç”¨æˆ·å¤´åƒ URL</li><li>æ³¨å†Œæ—¶å¯é€‰å¡«å†™å¤´åƒåœ°å€</li><li>ä½¿ç”¨ <code>@IsUrl()</code> éªŒè¯å¤´åƒ URL æ ¼å¼</li><li>æ‰€æœ‰ç”¨æˆ·æ¥å£è¿”å›å¤´åƒä¿¡æ¯</li></ul><p><strong>å½±å“çš„æ–‡ä»¶</strong>:</p><ul><li><code>prisma/schema.prisma</code> - æ·»åŠ  <code>avatar String?</code> å­—æ®µ</li><li><code>src/modules/auth/dto/register.dto.ts</code> - æ·»åŠ å¯é€‰ avatar å­—æ®µ</li><li><code>src/modules/users/dto/create-user.dto.ts</code> - æ·»åŠ å¯é€‰ avatar å­—æ®µ</li><li><code>src/modules/users/dto/update-user.dto.ts</code> - æ”¯æŒå¤´åƒæ›´æ–°</li><li>æ‰€æœ‰æŸ¥è¯¢å“åº”åŒ…å« avatar å­—æ®µ</li></ul><p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:3000/api/auth/register</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;email&quot;: &quot;user@example.com&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;username&quot;: &quot;user&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;password&quot;: &quot;pass123&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;avatar&quot;: &quot;https://api.dicebear.com/7.x/avataaars/svg?seed=user&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre></div><h4 id="_3-å¯†ç å­—æ®µè‡ªåŠ¨æ’é™¤" tabindex="-1">3. <strong>å¯†ç å­—æ®µè‡ªåŠ¨æ’é™¤</strong> <a class="header-anchor" href="#_3-å¯†ç å­—æ®µè‡ªåŠ¨æ’é™¤" aria-label="Permalink to &quot;3. **å¯†ç å­—æ®µè‡ªåŠ¨æ’é™¤**&quot;">â€‹</a></h4><ul><li>æ‰€æœ‰ç”¨æˆ·æŸ¥è¯¢æ¥å£è‡ªåŠ¨æ’é™¤ <code>password</code> å­—æ®µ</li><li>ä½¿ç”¨ Prisma <code>select</code> ç²¾ç¡®æ§åˆ¶è¿”å›å­—æ®µ</li><li>ç»Ÿä¸€çš„ <code>userSelect</code> å¸¸é‡ç¡®ä¿ä¸€è‡´æ€§</li><li>æå‡ç³»ç»Ÿå®‰å…¨æ€§</li></ul><p><strong>å®ç°æ–¹å¼</strong>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// UsersService ä¸­å®šä¹‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">private readonly userSelect </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  email: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  username: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  firstName: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  lastName: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  avatar: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–°å¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  roles: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¤šè§’è‰²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isActive: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  createdAt: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  updatedAt: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // password æ˜ç¡®æ’é™¤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="ğŸ”§-æ”¹è¿›-2" tabindex="-1">ğŸ”§ æ”¹è¿› <a class="header-anchor" href="#ğŸ”§-æ”¹è¿›-2" aria-label="Permalink to &quot;ğŸ”§ æ”¹è¿›&quot;">â€‹</a></h3><h4 id="_1-jwt-token-ä¼˜åŒ–" tabindex="-1">1. <strong>JWT Token ä¼˜åŒ–</strong> <a class="header-anchor" href="#_1-jwt-token-ä¼˜åŒ–" aria-label="Permalink to &quot;1. **JWT Token ä¼˜åŒ–**&quot;">â€‹</a></h4><ul><li>JWT payload ç°åœ¨åŒ…å« <code>roles</code> æ•°ç»„è€Œéå•ä¸ª <code>role</code></li><li>æ›´æ–° <code>JwtPayload</code> æ¥å£ç±»å‹å®šä¹‰</li><li>JwtStrategy éªŒè¯é€»è¾‘æ”¯æŒå¤šè§’è‰²</li><li>Token ç”Ÿæˆè‡ªåŠ¨åŒ…å«ç”¨æˆ·çš„æ‰€æœ‰è§’è‰²</li></ul><p><strong>JwtPayload æ¥å£æ›´æ–°</strong>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¹‹å‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JwtPayload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  sub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  email</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  role</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç°åœ¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JwtPayload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  sub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  email</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  roles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Role</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="_2-è§’è‰²æƒé™éªŒè¯å¢å¼º" tabindex="-1">2. <strong>è§’è‰²æƒé™éªŒè¯å¢å¼º</strong> <a class="header-anchor" href="#_2-è§’è‰²æƒé™éªŒè¯å¢å¼º" aria-label="Permalink to &quot;2. **è§’è‰²æƒé™éªŒè¯å¢å¼º**&quot;">â€‹</a></h4><ul><li>RolesGuard æ”¯æŒæ£€æŸ¥ç”¨æˆ·çš„è§’è‰²æ•°ç»„</li><li>ä½¿ç”¨ <code>Array.includes()</code> æ£€æŸ¥è§’è‰²åŒ¹é…</li><li>æ”¯æŒ&quot;OR&quot;é€»è¾‘ï¼šæ‹¥æœ‰ä»»ä¸€æ‰€éœ€è§’è‰²å³å¯é€šè¿‡</li><li>é”™è¯¯æ¶ˆæ¯åŒ…å«æ‰€æœ‰æ‰€éœ€è§’è‰²åˆ—è¡¨</li></ul><p><strong>éªŒè¯é€»è¾‘</strong>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userRoles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user.roles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> hasRole</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requiredRoles.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">role</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userRoles.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(role));</span></span></code></pre></div><h4 id="_3-æ•°æ®åº“ç§å­è„šæœ¬å¢å¼º" tabindex="-1">3. <strong>æ•°æ®åº“ç§å­è„šæœ¬å¢å¼º</strong> <a class="header-anchor" href="#_3-æ•°æ®åº“ç§å­è„šæœ¬å¢å¼º" aria-label="Permalink to &quot;3. **æ•°æ®åº“ç§å­è„šæœ¬å¢å¼º**&quot;">â€‹</a></h4><ul><li>åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·åŒæ—¶æ‹¥æœ‰ ADMIN å’Œ MODERATOR è§’è‰²</li><li>æ‰€æœ‰æµ‹è¯•ç”¨æˆ·åŒ…å«å¤´åƒ URL</li><li>ä½¿ç”¨ DiceBear API ç”Ÿæˆä¸ªæ€§åŒ–å¤´åƒ</li><li>å…ˆæ¸…ç©ºç”¨æˆ·æ•°æ®å†åˆ›å»ºï¼Œé¿å…å†²çª</li></ul><p><strong>æµ‹è¯•è´¦æˆ·</strong>:</p><table tabindex="0"><thead><tr><th>è§’è‰²</th><th>ç”¨æˆ·å</th><th>å¯†ç </th><th>è§’è‰²æ•°ç»„</th></tr></thead><tbody><tr><td>ç®¡ç†å‘˜+åè°ƒå‘˜</td><td>admin</td><td>admin123</td><td><code>[ADMIN, MODERATOR]</code></td></tr><tr><td>æ™®é€šç”¨æˆ·</td><td>testuser</td><td>user123</td><td><code>[USER]</code></td></tr><tr><td>åè°ƒå‘˜</td><td>moderator</td><td>moderator123</td><td><code>[MODERATOR]</code></td></tr></tbody></table><h3 id="ğŸ“š-æ–‡æ¡£æ›´æ–°-2" tabindex="-1">ğŸ“š æ–‡æ¡£æ›´æ–° <a class="header-anchor" href="#ğŸ“š-æ–‡æ¡£æ›´æ–°-2" aria-label="Permalink to &quot;ğŸ“š æ–‡æ¡£æ›´æ–°&quot;">â€‹</a></h3><h4 id="æ›´æ–°çš„æ–‡æ¡£-1" tabindex="-1">æ›´æ–°çš„æ–‡æ¡£ <a class="header-anchor" href="#æ›´æ–°çš„æ–‡æ¡£-1" aria-label="Permalink to &quot;æ›´æ–°çš„æ–‡æ¡£&quot;">â€‹</a></h4><ol><li><p><strong>README.md</strong></p><ul><li>æ›´æ–°æ•°æ®åº“æ¨¡å‹è¯´æ˜ï¼ˆroles æ•°ç»„ + avatarï¼‰</li><li>æ›´æ–°æµ‹è¯•è´¦æˆ·è¡¨æ ¼ï¼Œæ˜¾ç¤ºå¤šè§’è‰²</li><li>æ›´æ–°æ³¨å†Œç¤ºä¾‹ï¼Œæ·»åŠ  avatar å­—æ®µ</li><li>æ›´æ–°ç™»å½•å“åº”ç¤ºä¾‹ï¼Œæ˜¾ç¤º roles æ•°ç»„</li><li>æ·»åŠ å¤šè§’è‰²æ”¯æŒè¯´æ˜</li><li>æ·»åŠ å¯†ç ä¿æŠ¤è¯´æ˜</li></ul></li><li><p><strong>CHANGELOG.md</strong></p><ul><li>æ·»åŠ  v1.2.0 ç‰ˆæœ¬æ›´æ–°æ—¥å¿—</li><li>è¯¦ç»†è®°å½•æ‰€æœ‰å˜æ›´å†…å®¹</li><li>æä¾›è¿ç§»æŒ‡å—</li></ul></li></ol><h3 id="ğŸ› ï¸-æŠ€æœ¯å˜æ›´-2" tabindex="-1">ğŸ› ï¸ æŠ€æœ¯å˜æ›´ <a class="header-anchor" href="#ğŸ› ï¸-æŠ€æœ¯å˜æ›´-2" aria-label="Permalink to &quot;ğŸ› ï¸ æŠ€æœ¯å˜æ›´&quot;">â€‹</a></h3><h4 id="æ•°æ®åº“è¿ç§»-2" tabindex="-1">æ•°æ®åº“è¿ç§» <a class="header-anchor" href="#æ•°æ®åº“è¿ç§»-2" aria-label="Permalink to &quot;æ•°æ®åº“è¿ç§»&quot;">â€‹</a></h4><p><strong>ç ´åæ€§å˜æ›´</strong> - éœ€è¦æ•°æ®åº“è¿ç§»ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ¨é€ schema å˜æ›´ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --accept-data-loss</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡æ–°ç”Ÿæˆ Prisma Client</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡æ–°å¡«å……æµ‹è¯•æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seed</span></span></code></pre></div><p><strong>æ³¨æ„</strong>ï¼š<code>role</code> â†’ <code>roles[]</code> çš„å˜æ›´ä¼šå¯¼è‡´ç°æœ‰æ•°æ®ä¸¢å¤±ï¼Œè¯·åœ¨ç”Ÿäº§ç¯å¢ƒè°¨æ…æ“ä½œã€‚</p><h4 id="typescript-ç±»å‹æ›´æ–°" tabindex="-1">TypeScript ç±»å‹æ›´æ–° <a class="header-anchor" href="#typescript-ç±»å‹æ›´æ–°" aria-label="Permalink to &quot;TypeScript ç±»å‹æ›´æ–°&quot;">â€‹</a></h4><p>æ‰€æœ‰æ¶‰åŠè§’è‰²çš„ç±»å‹å®šä¹‰å·²æ›´æ–°ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// DTO</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">roles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Role[];  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è€Œé role?: Role</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Service è¿”å›</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  roles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Role[];  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è€Œé role: Role</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ“Š-api-å˜æ›´" tabindex="-1">ğŸ“Š API å˜æ›´ <a class="header-anchor" href="#ğŸ“Š-api-å˜æ›´" aria-label="Permalink to &quot;ğŸ“Š API å˜æ›´&quot;">â€‹</a></h3><h4 id="ä¿®æ”¹çš„ç«¯ç‚¹å“åº”æ ¼å¼" tabindex="-1">ä¿®æ”¹çš„ç«¯ç‚¹å“åº”æ ¼å¼ <a class="header-anchor" href="#ä¿®æ”¹çš„ç«¯ç‚¹å“åº”æ ¼å¼" aria-label="Permalink to &quot;ä¿®æ”¹çš„ç«¯ç‚¹å“åº”æ ¼å¼&quot;">â€‹</a></h4><p><strong>POST /api/auth/register</strong></p><p>ç°åœ¨æ”¯æŒ <code>avatar</code> å¯é€‰å­—æ®µï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;username&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pass123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;firstName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;lastName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;User&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;avatar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://avatar.url&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ–°å¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>POST /api/auth/login</strong></p><p>å“åº”ä¸­ <code>role</code> æ”¹ä¸º <code>roles</code> æ•°ç»„ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;roles&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ADMIN&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MODERATOR&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¹‹å‰æ˜¯ &quot;role&quot;: &quot;ADMIN&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;avatar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://...&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æ–°å¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>GET /api/users</strong></p><ul><li>è¿”å›ç”¨æˆ·åˆ—è¡¨åŒ…å« <code>roles</code> æ•°ç»„å’Œ <code>avatar</code></li><li>æ‰€æœ‰å“åº”è‡ªåŠ¨æ’é™¤ <code>password</code> å­—æ®µ</li><li>æ”¯æŒæŒ‰è§’è‰²ç­›é€‰ï¼š<code>?role=ADMIN</code></li></ul><p><strong>PATCH /api/users/:id</strong></p><p>æ”¯æŒæ›´æ–°ç”¨æˆ·çš„å¤šä¸ªè§’è‰²ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;roles&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;USER&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MODERATOR&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯è®¾ç½®å¤šä¸ªè§’è‰²</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;avatar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://new-avatar.url&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ§ª-æµ‹è¯•å»ºè®®-1" tabindex="-1">ğŸ§ª æµ‹è¯•å»ºè®® <a class="header-anchor" href="#ğŸ§ª-æµ‹è¯•å»ºè®®-1" aria-label="Permalink to &quot;ğŸ§ª æµ‹è¯•å»ºè®®&quot;">â€‹</a></h3><h4 id="éœ€è¦æµ‹è¯•çš„åœºæ™¯-1" tabindex="-1">éœ€è¦æµ‹è¯•çš„åœºæ™¯ <a class="header-anchor" href="#éœ€è¦æµ‹è¯•çš„åœºæ™¯-1" aria-label="Permalink to &quot;éœ€è¦æµ‹è¯•çš„åœºæ™¯&quot;">â€‹</a></h4><ol><li><p><strong>å¤šè§’è‰²åŠŸèƒ½</strong></p><ul><li>âœ… åˆ›å»ºæ‹¥æœ‰å¤šä¸ªè§’è‰²çš„ç”¨æˆ·</li><li>âœ… æ›´æ–°ç”¨æˆ·è§’è‰²æ•°ç»„</li><li>âœ… éªŒè¯å¤šè§’è‰²ç”¨æˆ·å¯ä»¥è®¿é—®ç›¸åº”æ¥å£</li><li>âœ… éªŒè¯ RolesGuard çš„&quot;OR&quot;é€»è¾‘</li></ul></li><li><p><strong>ç”¨æˆ·å¤´åƒ</strong></p><ul><li>âœ… æ³¨å†Œæ—¶è®¾ç½®å¤´åƒ</li><li>âœ… æ›´æ–°ç”¨æˆ·å¤´åƒ</li><li>âœ… éªŒè¯å¤´åƒ URL æ ¼å¼éªŒè¯</li><li>âœ… æ‰€æœ‰æŸ¥è¯¢æ¥å£è¿”å›å¤´åƒ</li></ul></li><li><p><strong>å¯†ç ä¿æŠ¤</strong></p><ul><li>âœ… æ‰€æœ‰ç”¨æˆ·æŸ¥è¯¢æ¥å£ä¸è¿”å› password</li><li>âœ… ç™»å½•æ¥å£ä¸è¿”å› password</li><li>âœ… æ³¨å†Œæ¥å£ä¸è¿”å› password</li><li>âœ… æ›´æ–°æ¥å£ä¸è¿”å› password</li></ul></li><li><p><strong>å‘åå…¼å®¹æ€§</strong></p><ul><li>âš ï¸ å‰ç«¯éœ€è¦æ›´æ–°å“åº”å¤„ç†ï¼ˆ<code>role</code> â†’ <code>roles</code>ï¼‰</li><li>âš ï¸ JWT Token è§£æéœ€è¦æ›´æ–°</li></ul></li></ol><h3 id="ğŸ“¦-éƒ¨ç½²æ³¨æ„äº‹é¡¹-1" tabindex="-1">ğŸ“¦ éƒ¨ç½²æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#ğŸ“¦-éƒ¨ç½²æ³¨æ„äº‹é¡¹-1" aria-label="Permalink to &quot;ğŸ“¦ éƒ¨ç½²æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h3><h4 id="è¿ç§»æ­¥éª¤-1" tabindex="-1">è¿ç§»æ­¥éª¤ <a class="header-anchor" href="#è¿ç§»æ­¥éª¤-1" aria-label="Permalink to &quot;è¿ç§»æ­¥éª¤&quot;">â€‹</a></h4><ol><li><p><strong>å¤‡ä»½æ•°æ®åº“</strong>ï¼ˆé‡è¦ï¼ï¼‰</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¤‡ä»½ç°æœ‰ç”¨æˆ·æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seed</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # æˆ–æ‰‹åŠ¨å¯¼å‡ºæ•°æ®</span></span></code></pre></div></li><li><p><strong>æ›´æ–°æ•°æ®åº“ Schema</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apps/backend</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --accept-data-loss</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å¼€å‘ç¯å¢ƒ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æˆ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # ç”Ÿäº§ç¯å¢ƒ</span></span></code></pre></div></li><li><p><strong>é‡æ–°ç”Ÿæˆ Prisma Client</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span></span></code></pre></div></li><li><p><strong>é‡æ–°å¡«å……æ•°æ®</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seed</span></span></code></pre></div></li><li><p><strong>é‡å¯åº”ç”¨</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å¼€å‘ç¯å¢ƒ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æˆ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start:prod</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # ç”Ÿäº§ç¯å¢ƒ</span></span></code></pre></div></li></ol><h4 id="å‰ç«¯åŒæ­¥æ›´æ–°-1" tabindex="-1">å‰ç«¯åŒæ­¥æ›´æ–° <a class="header-anchor" href="#å‰ç«¯åŒæ­¥æ›´æ–°-1" aria-label="Permalink to &quot;å‰ç«¯åŒæ­¥æ›´æ–°&quot;">â€‹</a></h4><p><strong>å¿…é¡»æ›´æ–°çš„å‰ç«¯ä»£ç </strong>ï¼š</p><ol><li><p><strong>ç±»å‹å®šä¹‰</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¹‹å‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  role</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç°åœ¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  roles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  avatar</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>æƒé™æ£€æŸ¥é€»è¾‘</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¹‹å‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (user.role </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ADMIN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç°åœ¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (user.roles.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ADMIN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div></li><li><p><strong>å¤´åƒæ˜¾ç¤º</strong></p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Avatar</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{user.avatar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> defaultAvatar} /&gt;</span></span></code></pre></div></li></ol><h3 id="âš ï¸-ç ´åæ€§å˜æ›´" tabindex="-1">âš ï¸ ç ´åæ€§å˜æ›´ <a class="header-anchor" href="#âš ï¸-ç ´åæ€§å˜æ›´" aria-label="Permalink to &quot;âš ï¸ ç ´åæ€§å˜æ›´&quot;">â€‹</a></h3><ol><li><p><strong>æ•°æ®åº“ Schema å˜æ›´</strong></p><ul><li><code>role</code> å­—æ®µæ”¹ä¸º <code>roles</code> æ•°ç»„</li><li>éœ€è¦è¿è¡Œè¿ç§»å¹¶é‡æ–°å¡«å……æ•°æ®</li><li>ç°æœ‰ç”¨æˆ·æ•°æ®ä¼šä¸¢å¤±ï¼ˆå¦‚ä½¿ç”¨ <code>db push --accept-data-loss</code>ï¼‰</li></ul></li><li><p><strong>API å“åº”æ ¼å¼å˜æ›´</strong></p><ul><li>æ‰€æœ‰ç”¨æˆ·ç›¸å…³å“åº”ä¸­ <code>role</code> æ”¹ä¸º <code>roles</code></li><li>æ–°å¢ <code>avatar</code> å­—æ®µ</li><li>å‰ç«¯å¿…é¡»åŒæ­¥æ›´æ–°</li></ul></li><li><p><strong>JWT Token æ ¼å¼å˜æ›´</strong></p><ul><li>Token payload åŒ…å« <code>roles</code> æ•°ç»„è€Œé <code>role</code></li><li>æ—§ Token åœ¨æ–°ç³»ç»Ÿä¸­æ— æ•ˆ</li><li>ç”¨æˆ·éœ€è¦é‡æ–°ç™»å½•</li></ul></li></ol><h3 id="ğŸ”®-æœªæ¥è®¡åˆ’-1" tabindex="-1">ğŸ”® æœªæ¥è®¡åˆ’ <a class="header-anchor" href="#ğŸ”®-æœªæ¥è®¡åˆ’-1" aria-label="Permalink to &quot;ğŸ”® æœªæ¥è®¡åˆ’&quot;">â€‹</a></h3><ol><li><p><strong>è§’è‰²ç®¡ç†åŠŸèƒ½</strong></p><ul><li>æ·»åŠ è§’è‰²ç®¡ç†åå°ç•Œé¢</li><li>æ”¯æŒåŠ¨æ€è§’è‰²åˆ†é…</li><li>è§’è‰²æƒé™çŸ©é˜µå¯è§†åŒ–</li></ul></li><li><p><strong>å¤´åƒä¸Šä¼ </strong></p><ul><li>æ”¯æŒæœ¬åœ°å¤´åƒä¸Šä¼ </li><li>å›¾ç‰‡å‹ç¼©å’Œæ ¼å¼è½¬æ¢</li><li>CDN é›†æˆ</li></ul></li><li><p><strong>æƒé™ç»†åŒ–</strong></p><ul><li>æ”¯æŒåŸºäºèµ„æºçš„æƒé™æ§åˆ¶</li><li>æ·»åŠ æ›´ç»†ç²’åº¦çš„æƒé™é¡¹</li><li>æƒé™ç»§æ‰¿æœºåˆ¶</li></ul></li></ol><h3 id="ğŸ“-ç›¸å…³æ–‡æ¡£-1" tabindex="-1">ğŸ“ ç›¸å…³æ–‡æ¡£ <a class="header-anchor" href="#ğŸ“-ç›¸å…³æ–‡æ¡£-1" aria-label="Permalink to &quot;ğŸ“ ç›¸å…³æ–‡æ¡£&quot;">â€‹</a></h3><ul><li><a href="./README.html#api-æ–‡æ¡£">API æ–‡æ¡£</a></li><li><a href="./README.html#æ•°æ®åº“æ¨¡å‹">æ•°æ®åº“æ¨¡å‹</a></li><li><a href="./README.html#è®¤è¯ä¸æˆæƒ">è®¤è¯ä¸æˆæƒ</a></li><li><a href="./apps/backend/BUSINESS_CODES.html">ä¸šåŠ¡çŠ¶æ€ç </a></li></ul><hr><h2 id="_1-1-1-2025-10-16" tabindex="-1">[1.1.1] - 2025-10-16 <a class="header-anchor" href="#_1-1-1-2025-10-16" aria-label="Permalink to &quot;[1.1.1] - 2025-10-16&quot;">â€‹</a></h2><h3 id="ğŸ“š-æ–‡æ¡£å¢å¼º" tabindex="-1">ğŸ“š æ–‡æ¡£å¢å¼º <a class="header-anchor" href="#ğŸ“š-æ–‡æ¡£å¢å¼º" aria-label="Permalink to &quot;ğŸ“š æ–‡æ¡£å¢å¼º&quot;">â€‹</a></h3><h4 id="æ–°å¢-api-å‘½åè§„èŒƒç« èŠ‚" tabindex="-1">æ–°å¢ï¼šAPI å‘½åè§„èŒƒç« èŠ‚ <a class="header-anchor" href="#æ–°å¢-api-å‘½åè§„èŒƒç« èŠ‚" aria-label="Permalink to &quot;æ–°å¢ï¼šAPI å‘½åè§„èŒƒç« èŠ‚&quot;">â€‹</a></h4><p>åœ¨ README.md ä¸­æ–°å¢äº†è¯¦ç»†çš„ <strong>API å‘½åè§„èŒƒ</strong> è¯´æ˜ï¼š</p><p><strong>å†…å®¹åŒ…æ‹¬</strong>ï¼š</p><ul><li>ğŸ“‹ å‘½åè½¬æ¢æµç¨‹å›¾è§£</li><li>ğŸ”§ Prisma <code>@map()</code> å®ç°æ–¹å¼è¯´æ˜</li><li>âœ… è®¾è®¡å†³ç­–åˆ†æï¼ˆä¸ºä»€ä¹ˆä½¿ç”¨ camelCaseï¼‰</li><li>âŒ ä¸æ¨èæ–¹æ¡ˆå¯¹æ¯”ï¼ˆå…¨å±€æ‹¦æˆªå™¨è½¬æ¢çš„åŠ£åŠ¿ï¼‰</li><li>ğŸ“ æ·»åŠ æ–°å­—æ®µçš„å®Œæ•´ç¤ºä¾‹</li></ul><p><strong>æ ¸å¿ƒè¦ç‚¹</strong>ï¼š</p><ul><li>å‰ç«¯å’Œåç«¯ API ç»Ÿä¸€ä½¿ç”¨ <strong>camelCase</strong>ï¼ˆå¦‚ <code>firstName</code>, <code>createdAt</code>ï¼‰</li><li>æ•°æ®åº“ä½¿ç”¨ <strong>snake_case</strong>ï¼ˆå¦‚ <code>first_name</code>, <code>created_at</code>ï¼‰</li><li>Prisma é€šè¿‡ <code>@map()</code> è£…é¥°å™¨è‡ªåŠ¨å¤„ç†è½¬æ¢</li><li><strong>é›¶æ€§èƒ½å¼€é”€</strong>ï¼šè½¬æ¢åœ¨ç¼–è¯‘æ—¶å®Œæˆï¼Œæ— è¿è¡Œæ—¶å¼€é”€</li><li><strong>ç±»å‹å®‰å…¨</strong>ï¼šTypeScript ç±»å‹å®Œå…¨åŒ¹é…</li></ul><p><strong>ä¸ºä»€ä¹ˆä¸éœ€è¦é¢å¤–çš„æ‹¦æˆªå™¨</strong>ï¼š</p><ol><li>âœ… Prisma å·²ç»æä¾›äº†æœ€ä½³è§£å†³æ–¹æ¡ˆ</li><li>âœ… æ€§èƒ½æœ€ä¼˜ï¼šæ— è¿è¡Œæ—¶è½¬æ¢å¼€é”€</li><li>âœ… ç»´æŠ¤ç®€å•ï¼šåªéœ€åœ¨ schema ä¸­é…ç½®ä¸€æ¬¡</li><li>âœ… ç±»å‹å®‰å…¨ï¼šè‡ªåŠ¨ç”Ÿæˆæ­£ç¡®çš„ TypeScript ç±»å‹</li></ol><p>è¿™æ ·çš„è®¾è®¡ç¡®ä¿äº†ï¼š</p><ul><li>å‰ç«¯å¼€å‘è€…å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ JavaScript å‘½åè§„èŒƒ</li><li>æ•°æ®åº“ä¿æŒ PostgreSQL çš„ snake_case ä¼ ç»Ÿ</li><li>ä¸­é—´æ— éœ€ä»»ä½•æ‰‹åŠ¨è½¬æ¢æˆ–é¢å¤–é…ç½®</li></ul><hr><h2 id="_1-1-0-2025-10-16" tabindex="-1">[1.1.0] - 2025-10-16 <a class="header-anchor" href="#_1-1-0-2025-10-16" aria-label="Permalink to &quot;[1.1.0] - 2025-10-16&quot;">â€‹</a></h2><h3 id="âœ¨-æ–°å¢åŠŸèƒ½-3" tabindex="-1">âœ¨ æ–°å¢åŠŸèƒ½ <a class="header-anchor" href="#âœ¨-æ–°å¢åŠŸèƒ½-3" aria-label="Permalink to &quot;âœ¨ æ–°å¢åŠŸèƒ½&quot;">â€‹</a></h3><h4 id="_1-ä¸šåŠ¡çŠ¶æ€ç ç³»ç»Ÿ" tabindex="-1">1. <strong>ä¸šåŠ¡çŠ¶æ€ç ç³»ç»Ÿ</strong> <a class="header-anchor" href="#_1-ä¸šåŠ¡çŠ¶æ€ç ç³»ç»Ÿ" aria-label="Permalink to &quot;1. **ä¸šåŠ¡çŠ¶æ€ç ç³»ç»Ÿ**&quot;">â€‹</a></h4><ul><li>æ·»åŠ äº†å®Œæ•´çš„ä¸šåŠ¡çŠ¶æ€ç ï¼ˆBusiness Codeï¼‰ä½“ç³»</li><li>æ‰€æœ‰ API å“åº”ç°åœ¨åŒ…å« <code>code</code> å­—æ®µ</li><li>æ”¯æŒæ›´ç²¾ç¡®çš„é”™è¯¯è¯†åˆ«å’Œå‰ç«¯å¤„ç†</li><li>çŠ¶æ€ç åˆ†ç±»ï¼š <ul><li><code>0</code>: æˆåŠŸ</li><li><code>1xxx</code>: å®¢æˆ·ç«¯é”™è¯¯</li><li><code>2xxx</code>: æœåŠ¡å™¨é”™è¯¯</li></ul></li></ul><p><strong>å½±å“çš„æ–‡ä»¶</strong>:</p><ul><li><code>src/common/constants/business-codes.ts</code> (æ–°å¢)</li><li><code>src/common/interceptors/transform.interceptor.ts</code> (æ›´æ–°)</li><li><code>src/common/filters/http-exception.filter.ts</code> (æ›´æ–°)</li><li><code>src/modules/auth/auth.service.ts</code> (æ›´æ–° - 7 å¤„å¼‚å¸¸)</li><li><code>src/modules/users/users.service.ts</code> (æ›´æ–° - 6 å¤„å¼‚å¸¸)</li><li><code>src/modules/projects/projects.service.ts</code> (æ›´æ–° - 4 å¤„å¼‚å¸¸)</li></ul><p><strong>å“åº”æ ¼å¼å˜åŒ–</strong>:</p><p>ä¹‹å‰:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ç°åœ¨:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="_2-æ³¨å†Œå®‰å…¨å¢å¼º" tabindex="-1">2. <strong>æ³¨å†Œå®‰å…¨å¢å¼º</strong> <a class="header-anchor" href="#_2-æ³¨å†Œå®‰å…¨å¢å¼º" aria-label="Permalink to &quot;2. **æ³¨å†Œå®‰å…¨å¢å¼º**&quot;">â€‹</a></h4><ul><li>ç¦æ­¢é€šè¿‡æ³¨å†Œæ¥å£åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·</li><li>æ³¨å†Œæ¥å£ä»…å…è®¸åˆ›å»ºæ™®é€šç”¨æˆ·ï¼ˆUSER è§’è‰²ï¼‰</li><li>æ·»åŠ äº†è¯¦ç»†çš„ä¸šåŠ¡çŠ¶æ€ç ç”¨äºæ³¨å†Œé”™è¯¯ <ul><li><code>1106</code>: é‚®ç®±å·²è¢«æ³¨å†Œ</li><li><code>1107</code>: ç”¨æˆ·åå·²è¢«ä½¿ç”¨</li><li><code>1108</code>: æ— æ³•æ³¨å†Œç®¡ç†å‘˜è´¦æˆ·</li></ul></li></ul><p><strong>å½±å“çš„æ–‡ä»¶</strong>:</p><ul><li><code>src/modules/auth/auth.service.ts</code> (æ›´æ–°)</li></ul><p><strong>å®‰å…¨æªæ–½</strong>:</p><ul><li>RegisterDTO ä¸åŒ…å« <code>role</code> å­—æ®µ</li><li>Service å±‚æ˜ç¡®ä¸æ¥å— role å‚æ•°</li><li>ä½¿ç”¨ Prisma schema é»˜è®¤å€¼ <code>USER</code></li><li>æ·»åŠ äº†è¯¦ç»†çš„æ³¨é‡Šè¯´æ˜</li></ul><h3 id="ğŸ”§-æ”¹è¿›-3" tabindex="-1">ğŸ”§ æ”¹è¿› <a class="header-anchor" href="#ğŸ”§-æ”¹è¿›-3" aria-label="Permalink to &quot;ğŸ”§ æ”¹è¿›&quot;">â€‹</a></h3><h4 id="_1-é”™è¯¯å¤„ç†å¢å¼º" tabindex="-1">1. <strong>é”™è¯¯å¤„ç†å¢å¼º</strong> <a class="header-anchor" href="#_1-é”™è¯¯å¤„ç†å¢å¼º" aria-label="Permalink to &quot;1. **é”™è¯¯å¤„ç†å¢å¼º**&quot;">â€‹</a></h4><ul><li>æ‰€æœ‰è®¤è¯ç›¸å…³é”™è¯¯ç°åœ¨è¿”å›å…·ä½“çš„ä¸šåŠ¡çŠ¶æ€ç </li><li>é”™è¯¯æ¶ˆæ¯æ›´åŠ å‹å¥½å’Œå…·ä½“</li><li>æ”¯æŒè‡ªå®šä¹‰ä¸šåŠ¡çŠ¶æ€ç çš„å¼‚å¸¸å¤„ç†</li></ul><p><strong>ç¤ºä¾‹</strong>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConflictException</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;é‚®ç®±å·²è¢«æ³¨å†Œ&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  code: BusinessCode.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">EMAIL_ALREADY_EXISTS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h4 id="_2-bearer-token-éªŒè¯ç¡®è®¤" tabindex="-1">2. <strong>Bearer Token éªŒè¯ç¡®è®¤</strong> <a class="header-anchor" href="#_2-bearer-token-éªŒè¯ç¡®è®¤" aria-label="Permalink to &quot;2. **Bearer Token éªŒè¯ç¡®è®¤**&quot;">â€‹</a></h4><ul><li>ç¡®è®¤æ”¯æŒæ ‡å‡†çš„ <code>Authorization: Bearer ${token}</code> æ ¼å¼</li><li>JwtStrategy ä½¿ç”¨ <code>ExtractJwt.fromAuthHeaderAsBearerToken()</code></li><li>ä¸å‰ç«¯æ ‡å‡†è¯·æ±‚æ ¼å¼å®Œå…¨å…¼å®¹</li></ul><p><strong>å‰ç«¯ä½¿ç”¨ç¤ºä¾‹</strong>:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// axios</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">axios.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/auth/profile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  headers: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Authorization: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`Bearer ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">token</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// fetch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/auth/profile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  headers: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;Authorization&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`Bearer ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">token</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="ğŸ“š-æ–‡æ¡£æ›´æ–°-3" tabindex="-1">ğŸ“š æ–‡æ¡£æ›´æ–° <a class="header-anchor" href="#ğŸ“š-æ–‡æ¡£æ›´æ–°-3" aria-label="Permalink to &quot;ğŸ“š æ–‡æ¡£æ›´æ–°&quot;">â€‹</a></h3><h4 id="æ–°å¢æ–‡æ¡£" tabindex="-1">æ–°å¢æ–‡æ¡£ <a class="header-anchor" href="#æ–°å¢æ–‡æ¡£" aria-label="Permalink to &quot;æ–°å¢æ–‡æ¡£&quot;">â€‹</a></h4><ol><li><strong>BUSINESS_CODES.md</strong><ul><li>å®Œæ•´çš„ä¸šåŠ¡çŠ¶æ€ç åˆ—è¡¨</li><li>çŠ¶æ€ç åˆ†ç±»è¯´æ˜</li><li>ä½¿ç”¨ç¤ºä¾‹</li><li>å‰ç«¯å¤„ç†å»ºè®®</li><li>TypeScript ç±»å‹å®šä¹‰</li><li>Axios æ‹¦æˆªå™¨ç¤ºä¾‹</li></ul></li></ol><h4 id="æ›´æ–°æ–‡æ¡£" tabindex="-1">æ›´æ–°æ–‡æ¡£ <a class="header-anchor" href="#æ›´æ–°æ–‡æ¡£" aria-label="Permalink to &quot;æ›´æ–°æ–‡æ¡£&quot;">â€‹</a></h4><ol><li><p><strong>README.md</strong></p><ul><li>æ›´æ–°å“åº”æ ¼å¼è¯´æ˜ï¼Œæ·»åŠ  <code>code</code> å­—æ®µ</li><li>æ·»åŠ ä¸šåŠ¡çŠ¶æ€ç ç« èŠ‚</li><li>æ·»åŠ ç”¨æˆ·æ³¨å†Œé™åˆ¶è¯´æ˜</li><li>æ·»åŠ  Bearer Token å‰ç«¯ç¤ºä¾‹</li><li>æ›´æ–°æ‰€æœ‰ API å“åº”ç¤ºä¾‹</li></ul></li><li><p><strong>ç¤ºä¾‹å“åº”æ›´æ–°</strong></p><ul><li>æ‰€æœ‰æˆåŠŸå“åº”ç¤ºä¾‹æ·»åŠ  <code>code: 0</code></li><li>æ‰€æœ‰é”™è¯¯å“åº”ç¤ºä¾‹æ·»åŠ å…·ä½“ä¸šåŠ¡çŠ¶æ€ç </li></ul></li></ol><h3 id="ğŸ”’-å®‰å…¨æ€§" tabindex="-1">ğŸ”’ å®‰å…¨æ€§ <a class="header-anchor" href="#ğŸ”’-å®‰å…¨æ€§" aria-label="Permalink to &quot;ğŸ”’ å®‰å…¨æ€§&quot;">â€‹</a></h3><h4 id="å¢å¼ºçš„å®‰å…¨æªæ–½" tabindex="-1">å¢å¼ºçš„å®‰å…¨æªæ–½ <a class="header-anchor" href="#å¢å¼ºçš„å®‰å…¨æªæ–½" aria-label="Permalink to &quot;å¢å¼ºçš„å®‰å…¨æªæ–½&quot;">â€‹</a></h4><ol><li><p><strong>æ³¨å†Œæƒé™æ§åˆ¶</strong></p><ul><li>é˜²æ­¢æƒé™æå‡æ”»å‡»</li><li>ç®¡ç†å‘˜è´¦æˆ·åˆ›å»ºé€”å¾„å—é™</li><li>ä»£ç å±‚é¢åŒé‡ä¿æŠ¤</li></ul></li><li><p><strong>é”™è¯¯ä¿¡æ¯è§„èŒƒ</strong></p><ul><li>ç»Ÿä¸€è®¤è¯é”™è¯¯æ¶ˆæ¯ï¼ˆä¸æ³„éœ²å…·ä½“é”™è¯¯ï¼‰</li><li>ç™»å½•å¤±è´¥ç»Ÿä¸€è¿”å›&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;</li><li>é¿å…ç”¨æˆ·æšä¸¾æ”»å‡»</li></ul></li></ol><h3 id="ğŸ› ï¸-æŠ€æœ¯å˜æ›´-3" tabindex="-1">ğŸ› ï¸ æŠ€æœ¯å˜æ›´ <a class="header-anchor" href="#ğŸ› ï¸-æŠ€æœ¯å˜æ›´-3" aria-label="Permalink to &quot;ğŸ› ï¸ æŠ€æœ¯å˜æ›´&quot;">â€‹</a></h3><h4 id="ä¾èµ–æ›´æ–°" tabindex="-1">ä¾èµ–æ›´æ–° <a class="header-anchor" href="#ä¾èµ–æ›´æ–°" aria-label="Permalink to &quot;ä¾èµ–æ›´æ–°&quot;">â€‹</a></h4><p>æ— æ–°å¢ä¾èµ–ï¼Œä»…ä½¿ç”¨ç°æœ‰ä¾èµ–å¢å¼ºåŠŸèƒ½</p><h4 id="ç ´åæ€§å˜æ›´" tabindex="-1">ç ´åæ€§å˜æ›´ <a class="header-anchor" href="#ç ´åæ€§å˜æ›´" aria-label="Permalink to &quot;ç ´åæ€§å˜æ›´&quot;">â€‹</a></h4><p>âš ï¸ <strong>å“åº”æ ¼å¼å˜æ›´</strong> - æ‰€æœ‰ API å“åº”ç°åœ¨åŒ…å« <code>code</code> å­—æ®µ</p><p><strong>å½±å“èŒƒå›´</strong>: æ‰€æœ‰å‰ç«¯è°ƒç”¨éƒ½éœ€è¦æ›´æ–°å“åº”å¤„ç†é€»è¾‘</p><p><strong>è¿ç§»æŒ‡å—</strong>:</p><ol><li>æ›´æ–°å“åº”ç±»å‹å®šä¹‰ï¼š</li></ol><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ApiResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–°å¢</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  success</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  timestamp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="2"><li>æ›´æ–°é”™è¯¯å¤„ç†ï¼š</li></ol><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (response.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¤„ç†é”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (response.code) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1106</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // é‚®ç®±å·²å­˜åœ¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="3"><li>å¯é€‰ï¼šä½¿ç”¨æ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†</li></ol><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">api.interceptors.response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (response.data.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.data.message));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="ğŸ“Š-api-å˜æ›´-1" tabindex="-1">ğŸ“Š API å˜æ›´ <a class="header-anchor" href="#ğŸ“Š-api-å˜æ›´-1" aria-label="Permalink to &quot;ğŸ“Š API å˜æ›´&quot;">â€‹</a></h3><h4 id="ä¿®æ”¹çš„ç«¯ç‚¹" tabindex="-1">ä¿®æ”¹çš„ç«¯ç‚¹ <a class="header-anchor" href="#ä¿®æ”¹çš„ç«¯ç‚¹" aria-label="Permalink to &quot;ä¿®æ”¹çš„ç«¯ç‚¹&quot;">â€‹</a></h4><p><strong>POST /api/auth/register</strong></p><p>ä¹‹å‰å“åº”:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ç°åœ¨å“åº”:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>é”™è¯¯å“åº”ï¼ˆé‚®ç®±å·²å­˜åœ¨ï¼‰:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1106</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;statusCode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">409</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é‚®ç®±å·²è¢«æ³¨å†Œ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;errors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-10-16T08:00:00.000Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/auth/register&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>POST /api/auth/login</strong></p><p>ç™»å½•æˆåŠŸå“åº”æ·»åŠ  <code>code: 0</code></p><p>ç™»å½•å¤±è´¥å“åº”:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;statusCode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">401</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ğŸ§ª-æµ‹è¯•å»ºè®®-2" tabindex="-1">ğŸ§ª æµ‹è¯•å»ºè®® <a class="header-anchor" href="#ğŸ§ª-æµ‹è¯•å»ºè®®-2" aria-label="Permalink to &quot;ğŸ§ª æµ‹è¯•å»ºè®®&quot;">â€‹</a></h3><h4 id="éœ€è¦æµ‹è¯•çš„åœºæ™¯-2" tabindex="-1">éœ€è¦æµ‹è¯•çš„åœºæ™¯ <a class="header-anchor" href="#éœ€è¦æµ‹è¯•çš„åœºæ™¯-2" aria-label="Permalink to &quot;éœ€è¦æµ‹è¯•çš„åœºæ™¯&quot;">â€‹</a></h4><ol><li><p><strong>æ³¨å†ŒåŠŸèƒ½</strong></p><ul><li>âœ… æ­£å¸¸æ³¨å†Œæ™®é€šç”¨æˆ·</li><li>âœ… é‚®ç®±é‡å¤æ³¨å†Œï¼ˆåº”è¿”å› code: 1106ï¼‰</li><li>âœ… ç”¨æˆ·åé‡å¤æ³¨å†Œï¼ˆåº”è¿”å› code: 1107ï¼‰</li><li>âœ… éªŒè¯æ— æ³•è®¾ç½® role ä¸º ADMIN</li></ul></li><li><p><strong>ç™»å½•åŠŸèƒ½</strong></p><ul><li>âœ… æ­£ç¡®å‡­è¯ç™»å½•ï¼ˆè¿”å› code: 0ï¼‰</li><li>âœ… é”™è¯¯å¯†ç ç™»å½•ï¼ˆè¿”å› code: 1101ï¼‰</li><li>âœ… ä¸å­˜åœ¨çš„ç”¨æˆ·ç™»å½•ï¼ˆè¿”å› code: 1101ï¼‰</li></ul></li><li><p><strong>Bearer Token è®¤è¯</strong></p><ul><li>âœ… æ­£ç¡®çš„ Token æ ¼å¼ <code>Bearer ${token}</code></li><li>âœ… è®¿é—®å—ä¿æŠ¤çš„æ¥å£</li><li>âœ… éªŒè¯ Token è¿‡æœŸå¤„ç†</li></ul></li><li><p><strong>å“åº”æ ¼å¼</strong></p><ul><li>âœ… æ‰€æœ‰æˆåŠŸå“åº”åŒ…å« <code>code: 0</code></li><li>âœ… æ‰€æœ‰é”™è¯¯å“åº”åŒ…å«å…·ä½“ä¸šåŠ¡çŠ¶æ€ç </li><li>âœ… OpenAPI JSON ç«¯ç‚¹ä¸å—å½±å“ï¼ˆä½¿ç”¨ @SkipTransformï¼‰</li></ul></li></ol><h3 id="ğŸ“¦-éƒ¨ç½²æ³¨æ„äº‹é¡¹-2" tabindex="-1">ğŸ“¦ éƒ¨ç½²æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#ğŸ“¦-éƒ¨ç½²æ³¨æ„äº‹é¡¹-2" aria-label="Permalink to &quot;ğŸ“¦ éƒ¨ç½²æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h3><ol><li><p><strong>å‰ç«¯åŒæ­¥éƒ¨ç½²</strong></p><ul><li>åç«¯æ›´æ–°åï¼Œå‰ç«¯å¿…é¡»åŒæ­¥æ›´æ–°å“åº”å¤„ç†é€»è¾‘</li><li>å»ºè®®ä½¿ç”¨ç‰ˆæœ¬åå•†æˆ–æ¸è¿›å¼æ›´æ–°</li></ul></li><li><p><strong>æ•°æ®åº“è¿ç§»</strong></p><ul><li>æ— éœ€æ•°æ®åº“è¿ç§»</li><li>ç°æœ‰æ•°æ®ä¸å—å½±å“</li></ul></li><li><p><strong>å‘åå…¼å®¹</strong></p><ul><li>âš ï¸ å“åº”æ ¼å¼å˜æ›´ä¸å‘åå…¼å®¹</li><li>å»ºè®®å‰åç«¯åŒæ—¶å‘å¸ƒ</li></ul></li></ol><h3 id="ğŸ”®-æœªæ¥è®¡åˆ’-2" tabindex="-1">ğŸ”® æœªæ¥è®¡åˆ’ <a class="header-anchor" href="#ğŸ”®-æœªæ¥è®¡åˆ’-2" aria-label="Permalink to &quot;ğŸ”® æœªæ¥è®¡åˆ’&quot;">â€‹</a></h3><ol><li><p><strong>çŠ¶æ€ç æ‰©å±•</strong></p><ul><li>æ·»åŠ æ›´å¤šä¸šåŠ¡åœºæ™¯çš„çŠ¶æ€ç </li><li>æ”¯æŒå›½é™…åŒ–é”™è¯¯æ¶ˆæ¯</li></ul></li><li><p><strong>å®‰å…¨å¢å¼º</strong></p><ul><li>æ·»åŠ ç™»å½•é¢‘ç‡é™åˆ¶</li><li>æ·»åŠ è´¦æˆ·é”å®šæœºåˆ¶</li></ul></li><li><p><strong>ç›‘æ§å’Œæ—¥å¿—</strong></p><ul><li>æ·»åŠ çŠ¶æ€ç ç»Ÿè®¡</li><li>é”™è¯¯è¿½è¸ªä¼˜åŒ–</li></ul></li></ol><h3 id="ğŸ“-ç›¸å…³æ–‡æ¡£-2" tabindex="-1">ğŸ“ ç›¸å…³æ–‡æ¡£ <a class="header-anchor" href="#ğŸ“-ç›¸å…³æ–‡æ¡£-2" aria-label="Permalink to &quot;ğŸ“ ç›¸å…³æ–‡æ¡£&quot;">â€‹</a></h3><ul><li><a href="./apps/backend/BUSINESS_CODES.html">ä¸šåŠ¡çŠ¶æ€ç å®Œæ•´åˆ—è¡¨</a></li><li><a href="./README.html#api-æ–‡æ¡£">API æ–‡æ¡£</a></li><li><a href="./README.html#è®¤è¯ä¸æˆæƒ">è®¤è¯ä¸æˆæƒ</a></li></ul><hr><h2 id="_1-0-0-2025-10-15" tabindex="-1">[1.0.0] - 2025-10-15 <a class="header-anchor" href="#_1-0-0-2025-10-15" aria-label="Permalink to &quot;[1.0.0] - 2025-10-15&quot;">â€‹</a></h2><h3 id="âœ¨-åˆå§‹ç‰ˆæœ¬" tabindex="-1">âœ¨ åˆå§‹ç‰ˆæœ¬ <a class="header-anchor" href="#âœ¨-åˆå§‹ç‰ˆæœ¬" aria-label="Permalink to &quot;âœ¨ åˆå§‹ç‰ˆæœ¬&quot;">â€‹</a></h3><ul><li>åŸºäº NestJS 10.x çš„åç«¯æ¡†æ¶</li><li>Supabase PostgreSQL + Prisma ORM é›†æˆ</li><li>JWT è®¤è¯ç³»ç»Ÿ</li><li>RBAC è§’è‰²æƒé™æ§åˆ¶</li><li>Swagger/OpenAPI æ–‡æ¡£</li><li>Monorepo æ¶æ„</li><li>é¡¹ç›®ç®¡ç†æ¨¡å—</li><li>OpenAPI JSON å¯¼å‡ºåŠŸèƒ½</li></ul><hr><p><strong>æ›´æ–°æ—¥æœŸ</strong>: 2025-10-16 <strong>ç‰ˆæœ¬</strong>: 1.1.0</p></div></div></main><footer class="VPDocFooter" data-v-af74e104 data-v-6f91f5cd><!--[--><!--]--><div class="edit-info" data-v-6f91f5cd><!----><div class="last-updated" data-v-6f91f5cd><p class="VPLastUpdated" data-v-6f91f5cd data-v-6fe3bb32>Last updated: <time datetime="2025-11-11T09:08:02.000Z" data-v-6fe3bb32></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-6f91f5cd><span class="visually-hidden" id="doc-footer-aria-label" data-v-6f91f5cd>Pager</span><div class="pager" data-v-6f91f5cd><!----></div><div class="pager" data-v-6f91f5cd><a class="VPLink link pager-link next" href="/nestBase/project/README.html" data-v-6f91f5cd><!--[--><span class="desc" data-v-6f91f5cd>Next page</span><span class="title" data-v-6f91f5cd>Readme</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"backend_api_create_menu_dto_fix.md\":\"J6ZdcyyH\",\"backend_api_create_menu_with_permissions.md\":\"SEUFNbH-\",\"backend_architecture_api_naming_convention.md\":\"DqKPuida\",\"backend_architecture_business_codes.md\":\"DDi_UC9o\",\"backend_architecture_business_codes_implementation.md\":\"fnI_dA90\",\"backend_architecture_naming_convention_conclusion.md\":\"B_02BqAY\",\"backend_architecture_redis_analysis.md\":\"Cj9NHZqb\",\"backend_architecture_validation_pipe_config.md\":\"Bq7VCIOy\",\"backend_features_changelog_user_roles.md\":\"Cx3gyiiQ\",\"backend_features_content_management_module.md\":\"BFpv-J6d\",\"backend_features_logging_system_release.md\":\"DJly6PL-\",\"backend_features_markdown_parser_integration.md\":\"DwFFglYJ\",\"backend_features_new_permission_system.md\":\"CtlGxbNh\",\"backend_features_redis_wrappers.md\":\"0FTgZ6Lt\",\"backend_features_refactor_user_roles_integration.md\":\"D1dMMRJp\",\"backend_features_role_home_page.md\":\"Bt1g5_TD\",\"backend_features_role_migration.md\":\"Cm-FqS3o\",\"backend_features_role_restrictions.md\":\"D9a1B--X\",\"backend_features_token_implementation_summary.md\":\"DN1ipmV7\",\"backend_features_token_refresh_logout.md\":\"LJXQOjB6\",\"backend_guides_api_user_roles.md\":\"CEad33rK\",\"backend_guides_audit_usage.md\":\"B9eTDBGx\",\"backend_guides_cms_api_guide.md\":\"CcK-onNZ\",\"backend_guides_menu_management.md\":\"CQYT0hkQ\",\"backend_guides_projects-module.md\":\"Cs0HhC2a\",\"backend_guides_users-module.md\":\"D6NU_8fq\",\"backend_migrations_migration_add_icon_type.md\":\"CZ7EwMvO\",\"backend_migrations_migration_guide.md\":\"BoD5__o0\",\"backend_migrations_migration_remove_title_field.md\":\"iGGjLB_0\",\"backend_migrations_parent_id_immutable.md\":\"Djc2ytQX\",\"backend_readme.md\":\"vELl-BMp\",\"frontend_developer_guide.md\":\"DdCgURZq\",\"frontend_readme.md\":\"ZjFUO_w7\",\"guides_cms_manual.md\":\"DjBN2wKv\",\"guides_deployment_guide.md\":\"BSnGtvKj\",\"guides_integration.zh-cn.md\":\"D9rn4uld\",\"guides_rbac_manual.md\":\"BiYJ7XK1\",\"guides_system_config.md\":\"6l2sfhiB\",\"guides_usage.zh-cn.md\":\"DS5ZRzVA\",\"index.md\":\"DKQai2De\",\"plans_api_optimization_plan.md\":\"DNMXbcgG\",\"plans_api_refactor_tags_logs_categories_plan.md\":\"DOlMnzxV\",\"plans_basic_data_module_implementation.md\":\"BcFQY_UB\",\"project_api-tools_apifox_import_guide.md\":\"BlnYPfXx\",\"project_api-tools_openapi_implementation.md\":\"S7gL72_a\",\"project_api-tools_openapi_update_summary.md\":\"CJq4gdUt\",\"project_development_changelog.md\":\"w5-qblhP\",\"project_development_code_check_report.md\":\"C2THRzKT\",\"project_development_docs_update_checklist.md\":\"DMQ6uzi7\",\"project_development_documentation_update.md\":\"DO5V2Ah0\",\"project_development_migration_admin_integration.md\":\"BZUYv4gu\",\"project_features_rbac_guide.md\":\"aUgn6YXv\",\"project_features_rbac_redesign.md\":\"CMuTv5mv\",\"project_project-management_delivery.md\":\"DSiLsLmZ\",\"project_project-management_file_list.md\":\"DsdrtZI5\",\"project_project-management_project_delivery.md\":\"DYiErDs4\",\"project_project-management_project_summary.md\":\"1OfMbfJn\",\"project_readme.md\":\"Dd0agZ7N\",\"project_setup_agents.md\":\"klz_ZFyg\",\"project_setup_claude.md\":\"Du5I3hqG\",\"project_setup_docker_guide.md\":\"BeANkah9\",\"project_setup_monorepo.md\":\"C-IIDhcJ\",\"project_setup_quickstart.md\":\"CfyWQwbw\",\"project_setup_supabase_setup.md\":\"B2G23NGW\",\"readme.md\":\"ByPbUjnI\",\"reports_analysis_report.md\":\"Wh_gCCZ0\",\"reports_api_optimization_report.md\":\"C6U_7Wg9\",\"reports_api_refactor_tags_logs_categories_report.md\":\"C_XuGEDp\",\"reports_frontend_backend_alignment.md\":\"9BJD56rk\",\"reports_structure_and_api_analysis.md\":\"VkeIHVR0\",\"standards_api_governance_standard.md\":\"DIx4JOZS\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"NestBase\",\"description\":\"ç°ä»£åŒ–å…¨æ ˆåº”ç”¨æ¡†æ¶æ–‡æ¡£\",\"base\":\"/nestBase/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"æŒ‡å—\",\"link\":\"/guides/USAGE.zh-CN\"},{\"text\":\"å‰ç«¯\",\"link\":\"/frontend/README\"},{\"text\":\"åç«¯\",\"link\":\"/backend/README\"},{\"text\":\"é¡¹ç›®ç®¡ç†\",\"link\":\"/project/README\"}],\"sidebar\":{\"/frontend/\":[{\"text\":\"å‰ç«¯æœåŠ¡\",\"items\":[{\"text\":\"æ¦‚è§ˆ\",\"link\":\"/frontend/README\"},{\"text\":\"å¼€å‘æŒ‡å—\",\"link\":\"/frontend/DEVELOPER_GUIDE\"},{\"text\":\"å‰åç«¯è”è°ƒæŒ‡å—\",\"link\":\"/guides/INTEGRATION.zh-CN\"}]}],\"/guides/\":[{\"text\":\"æŒ‡å—\",\"items\":[{\"text\":\"ä½¿ç”¨è¯´æ˜\",\"link\":\"/guides/USAGE.zh-CN\"},{\"text\":\"ç³»ç»Ÿé…ç½®è¯¦è§£\",\"link\":\"/guides/SYSTEM_CONFIG\"},{\"text\":\"ç”Ÿäº§éƒ¨ç½²æŒ‡å—\",\"link\":\"/guides/DEPLOYMENT_GUIDE\"},{\"text\":\"å†…å®¹ç®¡ç†æ‰‹å†Œ\",\"link\":\"/guides/CMS_MANUAL\"},{\"text\":\"æƒé™ç®¡ç†æ‰‹å†Œ\",\"link\":\"/guides/RBAC_MANUAL\"}]}],\"/plans/\":[{\"text\":\"è®¡åˆ’æ–‡æ¡£\",\"items\":[{\"text\":\"API ä¼˜åŒ–è®¡åˆ’\",\"link\":\"/plans/api_optimization_plan\"},{\"text\":\"API é‡æ„è®¡åˆ’\",\"link\":\"/plans/api_refactor_tags_logs_categories_plan\"},{\"text\":\"åŸºç¡€æ•°æ®æ¨¡å—\",\"link\":\"/plans/basic_data_module_implementation\"}]}],\"/reports/\":[{\"text\":\"åˆ†ææŠ¥å‘Š\",\"items\":[{\"text\":\"é¡¹ç›®åˆ†æ\",\"link\":\"/reports/ANALYSIS_REPORT\"},{\"text\":\"API ä¼˜åŒ–æŠ¥å‘Š\",\"link\":\"/reports/API_OPTIMIZATION_REPORT\"},{\"text\":\"ç»“æ„ä¸APIåˆ†æ\",\"link\":\"/reports/structure_and_api_analysis\"}]}],\"/standards/\":[{\"text\":\"è§„èŒƒæ ‡å‡†\",\"items\":[{\"text\":\"API æ²»ç†æ ‡å‡†\",\"link\":\"/standards/api_governance_standard\"}]}],\"/backend/\":[{\"text\":\"åç«¯æ¦‚è§ˆ\",\"items\":[{\"text\":\"Readme\",\"link\":\"/backend/README\"}]},{\"text\":\"æ¶æ„è®¾è®¡\",\"collapsed\":true,\"items\":[{\"text\":\"API å‘½åè§„èŒƒ\",\"link\":\"/backend/architecture/API_NAMING_CONVENTION\"},{\"text\":\"ä¸šåŠ¡çŠ¶æ€ç \",\"link\":\"/backend/architecture/BUSINESS_CODES\"},{\"text\":\"éªŒè¯ç®¡é“é…ç½®\",\"link\":\"/backend/architecture/VALIDATION_PIPE_CONFIG\"},{\"text\":\"Redis åˆ†æ\",\"link\":\"/backend/architecture/REDIS_ANALYSIS\"}]},{\"text\":\"åŠŸèƒ½ç‰¹æ€§\",\"collapsed\":true,\"items\":[{\"text\":\"æ–°æƒé™ç³»ç»Ÿ\",\"link\":\"/backend/features/NEW_PERMISSION_SYSTEM\"},{\"text\":\"Token å®ç°\",\"link\":\"/backend/features/TOKEN_IMPLEMENTATION_SUMMARY\"},{\"text\":\"æ—¥å¿—ç³»ç»Ÿ\",\"link\":\"/backend/features/LOGGING_SYSTEM_RELEASE\"},{\"text\":\"å†…å®¹ç®¡ç†\",\"link\":\"/backend/features/CONTENT_MANAGEMENT_MODULE\"}]},{\"text\":\"å¼€å‘æŒ‡å—\",\"collapsed\":true,\"items\":[{\"text\":\"ç”¨æˆ·æ¨¡å—\",\"link\":\"/backend/guides/users-module\"},{\"text\":\"é¡¹ç›®æ¨¡å—\",\"link\":\"/backend/guides/projects-module\"},{\"text\":\"CMS API\",\"link\":\"/backend/guides/CMS_API_GUIDE\"},{\"text\":\"èœå•ç®¡ç†\",\"link\":\"/backend/guides/MENU_MANAGEMENT\"},{\"text\":\"å®¡è®¡æ—¥å¿—\",\"link\":\"/backend/guides/AUDIT_USAGE\"}]},{\"text\":\"æ•°æ®åº“è¿ç§»\",\"collapsed\":true,\"items\":[{\"text\":\"è¿ç§»æŒ‡å—\",\"link\":\"/backend/migrations/MIGRATION_GUIDE\"}]}],\"/project/\":[{\"text\":\"é¡¹ç›®æ¦‚è§ˆ\",\"items\":[{\"text\":\"Readme\",\"link\":\"/project/README\"}]},{\"text\":\"ç¯å¢ƒæ­å»º\",\"items\":[{\"text\":\"å¿«é€Ÿå¼€å§‹\",\"link\":\"/project/setup/QUICKSTART\"},{\"text\":\"Supabase é…ç½®\",\"link\":\"/project/setup/SUPABASE_SETUP\"},{\"text\":\"Monorepo è¯´æ˜\",\"link\":\"/project/setup/MONOREPO\"}]},{\"text\":\"API å·¥å…·\",\"items\":[{\"text\":\"OpenAPI å®ç°\",\"link\":\"/project/api-tools/OPENAPI_IMPLEMENTATION\"},{\"text\":\"Apifox å¯¼å…¥\",\"link\":\"/project/api-tools/APIFOX_IMPORT_GUIDE\"}]},{\"text\":\"å¼€å‘æ–‡æ¡£\",\"items\":[{\"text\":\"æ–‡æ¡£æ›´æ–°æ¸…å•\",\"link\":\"/project/development/DOCS_UPDATE_CHECKLIST\"},{\"text\":\"ä»£ç æ£€æŸ¥æŠ¥å‘Š\",\"link\":\"/project/development/CODE_CHECK_REPORT\"}]},{\"text\":\"é¡¹ç›®ç®¡ç†\",\"items\":[{\"text\":\"äº¤ä»˜æŠ¥å‘Š\",\"link\":\"/project/project-management/DELIVERY\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/myltx/nestBase\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>