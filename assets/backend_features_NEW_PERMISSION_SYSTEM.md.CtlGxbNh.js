import{_ as i,c as a,o as n,a0 as l}from"./chunks/framework.CHkYM5Ax.js";const o=JSON.parse('{"title":"æ–°æƒé™ç³»ç»Ÿè®¾è®¡æ–‡æ¡£","description":"","frontmatter":{},"headers":[],"relativePath":"backend/features/NEW_PERMISSION_SYSTEM.md","filePath":"backend/features/NEW_PERMISSION_SYSTEM.md","lastUpdated":1762852082000}'),p={name:"backend/features/NEW_PERMISSION_SYSTEM.md"};function t(h,s,e,k,r,E){return n(),a("div",null,[...s[0]||(s[0]=[l(`<h1 id="æ–°æƒé™ç³»ç»Ÿè®¾è®¡æ–‡æ¡£" tabindex="-1">æ–°æƒé™ç³»ç»Ÿè®¾è®¡æ–‡æ¡£ <a class="header-anchor" href="#æ–°æƒé™ç³»ç»Ÿè®¾è®¡æ–‡æ¡£" aria-label="Permalink to &quot;æ–°æƒé™ç³»ç»Ÿè®¾è®¡æ–‡æ¡£&quot;">â€‹</a></h1><h2 id="ğŸ“-è®¾è®¡ç†å¿µ" tabindex="-1">ğŸ“ è®¾è®¡ç†å¿µ <a class="header-anchor" href="#ğŸ“-è®¾è®¡ç†å¿µ" aria-label="Permalink to &quot;ğŸ“ è®¾è®¡ç†å¿µ&quot;">â€‹</a></h2><h3 id="æ ¸å¿ƒæ€æƒ³" tabindex="-1">æ ¸å¿ƒæ€æƒ³ <a class="header-anchor" href="#æ ¸å¿ƒæ€æƒ³" aria-label="Permalink to &quot;æ ¸å¿ƒæ€æƒ³&quot;">â€‹</a></h3><ul><li><strong>èœå•</strong>å’Œ<strong>æƒé™</strong>å®Œå…¨åˆ†ç¦»</li><li><strong>èœå•</strong>åªè´Ÿè´£è·¯ç”±å’Œé¡µé¢å±•ç¤ºç»“æ„</li><li><strong>æƒé™</strong>æ§åˆ¶è®¿é—®ï¼ˆèœå•æƒé™ã€æŒ‰é’®æƒé™ã€æ¥å£æƒé™ï¼‰</li><li><strong>è§’è‰²</strong>é€šè¿‡ <code>role_permissions</code> è¡¨å…³è”æƒé™</li><li>ç”¨æˆ·ç™»å½•åï¼Œæ ¹æ®è§’è‰²æŸ¥è¯¢æ‰€æœ‰æƒé™</li></ul><hr><h2 id="ğŸ—„ï¸-æ•°æ®åº“ç»“æ„" tabindex="-1">ğŸ—„ï¸ æ•°æ®åº“ç»“æ„ <a class="header-anchor" href="#ğŸ—„ï¸-æ•°æ®åº“ç»“æ„" aria-label="Permalink to &quot;ğŸ—„ï¸ æ•°æ®åº“ç»“æ„&quot;">â€‹</a></h2><h3 id="menu-èœå•è¡¨" tabindex="-1">Menuï¼ˆèœå•è¡¨ï¼‰ <a class="header-anchor" href="#menu-èœå•è¡¨" aria-label="Permalink to &quot;Menuï¼ˆèœå•è¡¨ï¼‰&quot;">â€‹</a></h3><p><strong>èŒè´£</strong>ï¼šå®šä¹‰è·¯ç”±å’Œé¡µé¢ç»“æ„</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">menus</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-----</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id              UUID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PRIMARY KEY</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">route_name      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VARCHAR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> UNIQUE</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    -- è·¯ç”±æ ‡è¯†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">route_path      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VARCHAR</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          -- è·¯ç”±è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">menu_name       </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VARCHAR</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          -- èœå•åç§°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">title           </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VARCHAR</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          -- æ˜¾ç¤ºæ ‡é¢˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">icon            </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VARCHAR</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          -- å›¾æ ‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...ï¼ˆå…¶ä»– UI ç›¸å…³å­—æ®µï¼‰</span></span></code></pre></div><h3 id="permission-æƒé™è¡¨" tabindex="-1">Permissionï¼ˆæƒé™è¡¨ï¼‰ <a class="header-anchor" href="#permission-æƒé™è¡¨" aria-label="Permalink to &quot;Permissionï¼ˆæƒé™è¡¨ï¼‰&quot;">â€‹</a></h3><p><strong>èŒè´£</strong>ï¼šå®šä¹‰æ‰€æœ‰æƒé™ï¼ˆèœå•/æŒ‰é’®/APIï¼‰</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">permissions</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-----------</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id              UUID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PRIMARY KEY</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            VARCHAR</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          -- æƒé™åç§°ï¼Œå¦‚ &quot;æ–°å¢ç”¨æˆ·&quot;ã€&quot;ç”¨æˆ·ç®¡ç†é¡µ&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">code            </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VARCHAR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> UNIQUE</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   -- æƒé™ç¼–ç ï¼Œå¦‚ &quot;user:create&quot;ã€&quot;user:view&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ENUM             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- æƒé™ç±»å‹ï¼šMENU / BUTTON / API</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">menu_id         UUID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NULL</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        -- è‹¥ä¸º BUTTON/APIï¼Œéš¶å±äºå“ªä¸ªèœå•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">     TEXT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          INT</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              -- 1:å¯ç”¨ 2:ç¦ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">created_at      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">updated_at      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span></span></code></pre></div><h3 id="rolepermission-è§’è‰²æƒé™å…³è”è¡¨" tabindex="-1">RolePermissionï¼ˆè§’è‰²æƒé™å…³è”è¡¨ï¼‰ <a class="header-anchor" href="#rolepermission-è§’è‰²æƒé™å…³è”è¡¨" aria-label="Permalink to &quot;RolePermissionï¼ˆè§’è‰²æƒé™å…³è”è¡¨ï¼‰&quot;">â€‹</a></h3><p><strong>èŒè´£</strong>ï¼šè®°å½•è§’è‰²æ‹¥æœ‰çš„æƒé™</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">role_permissions</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">----------------</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id              UUID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PRIMARY KEY</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">role_id         UUID             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- è§’è‰² ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">permission_id   UUID             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- æƒé™ ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">created_at      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span></span></code></pre></div><h3 id="rolemenu-è§’è‰²èœå•å…³è”è¡¨" tabindex="-1">RoleMenuï¼ˆè§’è‰²èœå•å…³è”è¡¨ï¼‰ <a class="header-anchor" href="#rolemenu-è§’è‰²èœå•å…³è”è¡¨" aria-label="Permalink to &quot;RoleMenuï¼ˆè§’è‰²èœå•å…³è”è¡¨ï¼‰&quot;">â€‹</a></h3><p><strong>èŒè´£</strong>ï¼šè®°å½•è§’è‰²å¯è§çš„èœå•ï¼ˆç”¨äºå‰ç«¯èœå•æ¸²æŸ“ï¼‰</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">role_menus</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">----------</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id              UUID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PRIMARY KEY</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">role_id         UUID             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- è§’è‰² ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">menu_id         UUID             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- èœå• ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">created_at      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span></span></code></pre></div><hr><h2 id="ğŸ¯-æƒé™ç±»å‹è¯´æ˜" tabindex="-1">ğŸ¯ æƒé™ç±»å‹è¯´æ˜ <a class="header-anchor" href="#ğŸ¯-æƒé™ç±»å‹è¯´æ˜" aria-label="Permalink to &quot;ğŸ¯ æƒé™ç±»å‹è¯´æ˜&quot;">â€‹</a></h2><h3 id="_1-menu-èœå•æƒé™" tabindex="-1">1. MENUï¼ˆèœå•æƒé™ï¼‰ <a class="header-anchor" href="#_1-menu-èœå•æƒé™" aria-label="Permalink to &quot;1. MENUï¼ˆèœå•æƒé™ï¼‰&quot;">â€‹</a></h3><ul><li><strong>ä½œç”¨</strong>ï¼šæ§åˆ¶é¡µé¢/æ¨¡å—çš„è®¿é—®</li><li><strong>ç¤ºä¾‹</strong>ï¼š <ul><li><code>user:view</code> - ç”¨æˆ·ç®¡ç†é¡µè®¿é—®æƒé™</li><li><code>dashboard:view</code> - ä»ªè¡¨æ¿é¡µè®¿é—®æƒé™</li></ul></li><li><strong>ç‰¹ç‚¹</strong>ï¼š<code>menuId</code> å¯ä¸ºç©ºï¼Œè¡¨ç¤ºç‹¬ç«‹çš„é¡µé¢è®¿é—®æƒé™</li></ul><h3 id="_2-button-æŒ‰é’®æƒé™" tabindex="-1">2. BUTTONï¼ˆæŒ‰é’®æƒé™ï¼‰ <a class="header-anchor" href="#_2-button-æŒ‰é’®æƒé™" aria-label="Permalink to &quot;2. BUTTONï¼ˆæŒ‰é’®æƒé™ï¼‰&quot;">â€‹</a></h3><ul><li><strong>ä½œç”¨</strong>ï¼šæ§åˆ¶é¡µé¢å†…çš„æ“ä½œæŒ‰é’®</li><li><strong>ç¤ºä¾‹</strong>ï¼š <ul><li><code>user:create</code> - æ–°å¢ç”¨æˆ·æŒ‰é’®</li><li><code>user:delete</code> - åˆ é™¤ç”¨æˆ·æŒ‰é’®</li><li><code>user:export</code> - å¯¼å‡ºç”¨æˆ·æ•°æ®æŒ‰é’®</li></ul></li><li><strong>ç‰¹ç‚¹</strong>ï¼š<strong>å¿…é¡»</strong>å…³è” <code>menuId</code>ï¼Œè¡¨ç¤ºéš¶å±äºå“ªä¸ªèœå•</li></ul><h3 id="_3-api-æ¥å£æƒé™" tabindex="-1">3. APIï¼ˆæ¥å£æƒé™ï¼‰ <a class="header-anchor" href="#_3-api-æ¥å£æƒé™" aria-label="Permalink to &quot;3. APIï¼ˆæ¥å£æƒé™ï¼‰&quot;">â€‹</a></h3><ul><li><strong>ä½œç”¨</strong>ï¼šæ§åˆ¶åç«¯ API çš„è®¿é—®</li><li><strong>ç¤ºä¾‹</strong>ï¼š <ul><li><code>user:api:create</code> - POST /api/users</li><li><code>user:api:update</code> - PATCH /api/users/:id</li></ul></li><li><strong>ç‰¹ç‚¹</strong>ï¼š<strong>å¿…é¡»</strong>å…³è” <code>menuId</code>ï¼Œä¹Ÿå¯ä»¥ç‹¬ç«‹å®šä¹‰</li></ul><hr><h2 id="ğŸ”„-å·¥ä½œæµç¨‹" tabindex="-1">ğŸ”„ å·¥ä½œæµç¨‹ <a class="header-anchor" href="#ğŸ”„-å·¥ä½œæµç¨‹" aria-label="Permalink to &quot;ğŸ”„ å·¥ä½œæµç¨‹&quot;">â€‹</a></h2><h3 id="_1-åˆ›å»ºèœå•" tabindex="-1">1. åˆ›å»ºèœå• <a class="header-anchor" href="#_1-åˆ›å»ºèœå•" aria-label="Permalink to &quot;1. åˆ›å»ºèœå•&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /api/menus</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  &quot;routeName&quot;: &quot;user-management&quot;,</span></span>
<span class="line"><span>  &quot;routePath&quot;: &quot;/users&quot;,</span></span>
<span class="line"><span>  &quot;menuName&quot;: &quot;ç”¨æˆ·ç®¡ç†&quot;,</span></span>
<span class="line"><span>  &quot;title&quot;: &quot;ç”¨æˆ·ç®¡ç†&quot;,</span></span>
<span class="line"><span>  &quot;icon&quot;: &quot;mdi:account-group&quot;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_2-ä¸ºèœå•åˆ›å»ºæƒé™" tabindex="-1">2. ä¸ºèœå•åˆ›å»ºæƒé™ <a class="header-anchor" href="#_2-ä¸ºèœå•åˆ›å»ºæƒé™" aria-label="Permalink to &quot;2. ä¸ºèœå•åˆ›å»ºæƒé™&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /api/permissions</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  &quot;name&quot;: &quot;ç”¨æˆ·ç®¡ç†é¡µ&quot;,</span></span>
<span class="line"><span>  &quot;code&quot;: &quot;user:view&quot;,</span></span>
<span class="line"><span>  &quot;type&quot;: &quot;MENU&quot;,</span></span>
<span class="line"><span>  &quot;menuId&quot;: null,</span><span>  // èœå•æƒé™å¯ä»¥ä¸å…³è”</span></span>
<span class="line"><span>  &quot;description&quot;: &quot;è®¿é—®ç”¨æˆ·ç®¡ç†é¡µé¢&quot;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>POST /api/permissions</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  &quot;name&quot;: &quot;æ–°å¢ç”¨æˆ·&quot;,</span></span>
<span class="line"><span>  &quot;code&quot;: &quot;user:create&quot;,</span></span>
<span class="line"><span>  &quot;type&quot;: &quot;BUTTON&quot;,</span></span>
<span class="line"><span>  &quot;menuId&quot;: &quot;menu-uuid&quot;,</span><span>  // å¿…é¡»å…³è”èœå•</span></span>
<span class="line"><span>  &quot;description&quot;: &quot;æ–°å¢ç”¨æˆ·æŒ‰é’®&quot;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>POST /api/permissions</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  &quot;name&quot;: &quot;åˆ é™¤ç”¨æˆ·&quot;,</span></span>
<span class="line"><span>  &quot;code&quot;: &quot;user:delete&quot;,</span></span>
<span class="line"><span>  &quot;type&quot;: &quot;BUTTON&quot;,</span></span>
<span class="line"><span>  &quot;menuId&quot;: &quot;menu-uuid&quot;,</span></span>
<span class="line"><span>  &quot;description&quot;: &quot;åˆ é™¤ç”¨æˆ·æŒ‰é’®&quot;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_3-å°†æƒé™åˆ†é…ç»™è§’è‰²" tabindex="-1">3. å°†æƒé™åˆ†é…ç»™è§’è‰² <a class="header-anchor" href="#_3-å°†æƒé™åˆ†é…ç»™è§’è‰²" aria-label="Permalink to &quot;3. å°†æƒé™åˆ†é…ç»™è§’è‰²&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /api/roles/:roleId/permissions</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  &quot;permissionIds&quot;: [</span></span>
<span class="line"><span>    &quot;permission-uuid-1&quot;,</span><span>  // user:view</span></span>
<span class="line"><span>    &quot;permission-uuid-2&quot;,</span><span>  // user:create</span></span>
<span class="line"><span>    &quot;permission-uuid-3&quot;</span><span>   // user:delete</span></span>
<span class="line"><span>  ]</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_4-å°†èœå•åˆ†é…ç»™è§’è‰²-å‰ç«¯èœå•æ˜¾ç¤º" tabindex="-1">4. å°†èœå•åˆ†é…ç»™è§’è‰²ï¼ˆå‰ç«¯èœå•æ˜¾ç¤ºï¼‰ <a class="header-anchor" href="#_4-å°†èœå•åˆ†é…ç»™è§’è‰²-å‰ç«¯èœå•æ˜¾ç¤º" aria-label="Permalink to &quot;4. å°†èœå•åˆ†é…ç»™è§’è‰²ï¼ˆå‰ç«¯èœå•æ˜¾ç¤ºï¼‰&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /api/roles/:roleId/menus</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  &quot;menuIds&quot;: [&quot;menu-uuid-1&quot;, &quot;menu-uuid-2&quot;]</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="_5-ç”¨æˆ·ç™»å½•åè·å–æƒé™" tabindex="-1">5. ç”¨æˆ·ç™»å½•åè·å–æƒé™ <a class="header-anchor" href="#_5-ç”¨æˆ·ç™»å½•åè·å–æƒé™" aria-label="Permalink to &quot;5. ç”¨æˆ·ç™»å½•åè·å–æƒé™&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /api/auth/permissions</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Response:</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>  &quot;success&quot;: true,</span></span>
<span class="line"><span>  &quot;data&quot;: {</span></span>
<span class="line"><span>    &quot;menus&quot;: [ ... ],</span><span>       // ç”¨æˆ·å¯è§çš„èœå•</span></span>
<span class="line"><span>    &quot;permissions&quot;: [</span><span>        // ç”¨æˆ·æ‹¥æœ‰çš„æƒé™</span></span>
<span class="line"><span>      {</span></span>
<span class="line"><span>        &quot;code&quot;: &quot;user:view&quot;,</span></span>
<span class="line"><span>        &quot;name&quot;: &quot;ç”¨æˆ·ç®¡ç†é¡µ&quot;,</span></span>
<span class="line"><span>        &quot;type&quot;: &quot;MENU&quot;</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>      {</span></span>
<span class="line"><span>        &quot;code&quot;: &quot;user:create&quot;,</span></span>
<span class="line"><span>        &quot;name&quot;: &quot;æ–°å¢ç”¨æˆ·&quot;,</span></span>
<span class="line"><span>        &quot;type&quot;: &quot;BUTTON&quot;,</span></span>
<span class="line"><span>        &quot;menuId&quot;: &quot;menu-uuid&quot;</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre></div><hr><h2 id="ğŸ¨-å‰ç«¯ä½¿ç”¨ç¤ºä¾‹" tabindex="-1">ğŸ¨ å‰ç«¯ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ğŸ¨-å‰ç«¯ä½¿ç”¨ç¤ºä¾‹" aria-label="Permalink to &quot;ğŸ¨ å‰ç«¯ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h2><h3 id="_1-è·¯ç”±å®ˆå«-èœå•æƒé™" tabindex="-1">1. è·¯ç”±å®ˆå«ï¼ˆèœå•æƒé™ï¼‰ <a class="header-anchor" href="#_1-è·¯ç”±å®ˆå«-èœå•æƒé™" aria-label="Permalink to &quot;1. è·¯ç”±å®ˆå«ï¼ˆèœå•æƒé™ï¼‰&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰è®¿é—®æŸä¸ªé¡µé¢çš„æƒé™</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> canAccessRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">permissions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Permission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æŸ¥æ‰¾å¯¹åº”çš„èœå•æƒé™</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> permissions.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;MENU&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">canAccessRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user:view&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, userPermissions)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/403&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-æŒ‰é’®æƒé™æ§åˆ¶" tabindex="-1">2. æŒ‰é’®æƒé™æ§åˆ¶ <a class="header-anchor" href="#_2-æŒ‰é’®æƒé™æ§åˆ¶" aria-label="Permalink to &quot;2. æŒ‰é’®æƒé™æ§åˆ¶&quot;">â€‹</a></h3><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- ä½¿ç”¨ v-if æ§åˆ¶æŒ‰é’®æ˜¾ç¤º --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user:create&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      æ–°å¢ç”¨æˆ·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user:delete&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      åˆ é™¤ç”¨æˆ·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { usePermission } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/hooks/usePermission&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">hasPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> usePermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="_3-æƒé™-hook" tabindex="-1">3. æƒé™ Hook <a class="header-anchor" href="#_3-æƒé™-hook" aria-label="Permalink to &quot;3. æƒé™ Hook&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// hooks/usePermission.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> usePermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useUserStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hasPermission</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userStore.permissions.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> code);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hasAnyPermission</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">codes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> codes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hasPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(code));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hasAllPermissions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">codes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> codes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">every</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hasPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(code));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hasPermission,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hasAnyPermission,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hasAllPermissions,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="ğŸ”’-åç«¯æƒé™éªŒè¯" tabindex="-1">ğŸ”’ åç«¯æƒé™éªŒè¯ <a class="header-anchor" href="#ğŸ”’-åç«¯æƒé™éªŒè¯" aria-label="Permalink to &quot;ğŸ”’ åç«¯æƒé™éªŒè¯&quot;">â€‹</a></h2><h3 id="_1-æƒé™å®ˆå«" tabindex="-1">1. æƒé™å®ˆå« <a class="header-anchor" href="#_1-æƒé™å®ˆå«" aria-label="Permalink to &quot;1. æƒé™å®ˆå«&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// guards/permissions.guard.ts</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Injectable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PermissionsGuard</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CanActivate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  canActivate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExecutionContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> requiredPermissions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.reflector.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]&gt;(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;permissions&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      context.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">requiredPermissions) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> context.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">switchToHttp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request.user;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requiredPermissions.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">every</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">permission</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      user.permissions.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">some</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> permission)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-è£…é¥°å™¨ä½¿ç”¨" tabindex="-1">2. è£…é¥°å™¨ä½¿ç”¨ <a class="header-anchor" href="#_2-è£…é¥°å™¨ä½¿ç”¨" aria-label="Permalink to &quot;2. è£…é¥°å™¨ä½¿ç”¨&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Controller</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UsersController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RequirePermissions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user:create&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // éœ€è¦ user:create æƒé™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;:id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RequirePermissions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user:delete&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> deleteUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // éœ€è¦ user:delete æƒé™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="ğŸ“Š-æ•°æ®ç¤ºä¾‹" tabindex="-1">ğŸ“Š æ•°æ®ç¤ºä¾‹ <a class="header-anchor" href="#ğŸ“Š-æ•°æ®ç¤ºä¾‹" aria-label="Permalink to &quot;ğŸ“Š æ•°æ®ç¤ºä¾‹&quot;">â€‹</a></h2><h3 id="èœå•æ•°æ®" tabindex="-1">èœå•æ•°æ® <a class="header-anchor" href="#èœå•æ•°æ®" aria-label="Permalink to &quot;èœå•æ•°æ®&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;menu-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;routeName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user-management&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;routePath&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;menuName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·ç®¡ç†&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·ç®¡ç†&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="æƒé™æ•°æ®" tabindex="-1">æƒé™æ•°æ® <a class="header-anchor" href="#æƒé™æ•°æ®" aria-label="Permalink to &quot;æƒé™æ•°æ®&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;perm-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·ç®¡ç†é¡µ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:view&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MENU&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;menuId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;perm-2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ–°å¢ç”¨æˆ·&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:create&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BUTTON&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;menuId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;menu-1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;perm-3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åˆ é™¤ç”¨æˆ·&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:delete&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BUTTON&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;menuId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;menu-1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;perm-4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åˆ›å»ºç”¨æˆ·API&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:api:create&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;API&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;menuId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;menu-1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><hr><h2 id="âœ…-ä¼˜åŠ¿" tabindex="-1">âœ… ä¼˜åŠ¿ <a class="header-anchor" href="#âœ…-ä¼˜åŠ¿" aria-label="Permalink to &quot;âœ… ä¼˜åŠ¿&quot;">â€‹</a></h2><h3 id="_1-æ¸…æ™°åˆ†ç¦»" tabindex="-1">1. æ¸…æ™°åˆ†ç¦» <a class="header-anchor" href="#_1-æ¸…æ™°åˆ†ç¦»" aria-label="Permalink to &quot;1. æ¸…æ™°åˆ†ç¦»&quot;">â€‹</a></h3><ul><li>èœå•åªç®¡å±•ç¤ºç»“æ„</li><li>æƒé™åªç®¡è®¿é—®æ§åˆ¶</li><li>äº’ä¸å¹²æ‰°ï¼ŒèŒè´£å•ä¸€</li></ul><h3 id="_2-çµæ´»é…ç½®" tabindex="-1">2. çµæ´»é…ç½® <a class="header-anchor" href="#_2-çµæ´»é…ç½®" aria-label="Permalink to &quot;2. çµæ´»é…ç½®&quot;">â€‹</a></h3><ul><li>å¯ä»¥ä¸ºä¸åŒè§’è‰²åˆ†é…ä¸åŒçš„èœå•</li><li>å¯ä»¥ä¸ºä¸åŒè§’è‰²åˆ†é…ä¸åŒçš„æƒé™</li><li>èœå•å’Œæƒé™å¯ä»¥ç‹¬ç«‹ç®¡ç†</li></ul><h3 id="_3-æ˜“äºæ‰©å±•" tabindex="-1">3. æ˜“äºæ‰©å±• <a class="header-anchor" href="#_3-æ˜“äºæ‰©å±•" aria-label="Permalink to &quot;3. æ˜“äºæ‰©å±•&quot;">â€‹</a></h3><ul><li>æ–°å¢æƒé™ç±»å‹æ–¹ä¾¿ï¼ˆå¦‚æ·»åŠ  DATA æ•°æ®æƒé™ï¼‰</li><li>æ–°å¢æƒé™å®¹æ˜“ï¼ˆç›´æ¥æ’å…¥æƒé™è¡¨ï¼‰</li><li>ä¸å½±å“ç°æœ‰èœå•ç»“æ„</li></ul><h3 id="_4-æŸ¥è¯¢é«˜æ•ˆ" tabindex="-1">4. æŸ¥è¯¢é«˜æ•ˆ <a class="header-anchor" href="#_4-æŸ¥è¯¢é«˜æ•ˆ" aria-label="Permalink to &quot;4. æŸ¥è¯¢é«˜æ•ˆ&quot;">â€‹</a></h3><ul><li>ç”¨æˆ·ç™»å½•åä¸€æ¬¡æŸ¥è¯¢è·å–æ‰€æœ‰æƒé™</li><li>å‰ç«¯ç¼“å­˜æƒé™åˆ—è¡¨</li><li>æ— éœ€æ¯æ¬¡è¯·æ±‚éƒ½æŸ¥è¯¢æƒé™</li></ul><hr><h2 id="ğŸš€-api-åˆ—è¡¨" tabindex="-1">ğŸš€ API åˆ—è¡¨ <a class="header-anchor" href="#ğŸš€-api-åˆ—è¡¨" aria-label="Permalink to &quot;ğŸš€ API åˆ—è¡¨&quot;">â€‹</a></h2><h3 id="èœå•ç®¡ç†" tabindex="-1">èœå•ç®¡ç† <a class="header-anchor" href="#èœå•ç®¡ç†" aria-label="Permalink to &quot;èœå•ç®¡ç†&quot;">â€‹</a></h3><ul><li><code>POST /api/menus</code> - åˆ›å»ºèœå•</li><li><code>GET /api/menus</code> - æŸ¥è¯¢èœå•åˆ—è¡¨</li><li><code>GET /api/menus/:id</code> - æŸ¥è¯¢èœå•è¯¦æƒ…</li><li><code>PATCH /api/menus/:id</code> - æ›´æ–°èœå•</li><li><code>DELETE /api/menus/:id</code> - åˆ é™¤èœå•</li></ul><h3 id="æƒé™ç®¡ç†" tabindex="-1">æƒé™ç®¡ç† <a class="header-anchor" href="#æƒé™ç®¡ç†" aria-label="Permalink to &quot;æƒé™ç®¡ç†&quot;">â€‹</a></h3><ul><li><code>POST /api/permissions</code> - åˆ›å»ºæƒé™</li><li><code>GET /api/permissions</code> - æŸ¥è¯¢æƒé™åˆ—è¡¨</li><li><code>GET /api/permissions/:id</code> - æŸ¥è¯¢æƒé™è¯¦æƒ…</li><li><code>PATCH /api/permissions/:id</code> - æ›´æ–°æƒé™</li><li><code>DELETE /api/permissions/:id</code> - åˆ é™¤æƒé™</li><li><code>GET /api/menus/:menuId/permissions</code> - æŸ¥è¯¢èœå•çš„æ‰€æœ‰æƒé™</li></ul><h3 id="è§’è‰²æƒé™" tabindex="-1">è§’è‰²æƒé™ <a class="header-anchor" href="#è§’è‰²æƒé™" aria-label="Permalink to &quot;è§’è‰²æƒé™&quot;">â€‹</a></h3><ul><li><code>POST /api/roles/:roleId/permissions</code> - åˆ†é…æƒé™ç»™è§’è‰²</li><li><code>GET /api/roles/:roleId/permissions</code> - æŸ¥è¯¢è§’è‰²çš„æƒé™</li><li><code>DELETE /api/roles/:roleId/permissions/:permissionId</code> - ç§»é™¤è§’è‰²æƒé™</li></ul><h3 id="è§’è‰²èœå•" tabindex="-1">è§’è‰²èœå• <a class="header-anchor" href="#è§’è‰²èœå•" aria-label="Permalink to &quot;è§’è‰²èœå•&quot;">â€‹</a></h3><ul><li><code>POST /api/roles/:roleId/menus</code> - åˆ†é…èœå•ç»™è§’è‰²</li><li><code>GET /api/roles/:roleId/menus</code> - æŸ¥è¯¢è§’è‰²çš„èœå•</li></ul><h3 id="ç”¨æˆ·æƒé™" tabindex="-1">ç”¨æˆ·æƒé™ <a class="header-anchor" href="#ç”¨æˆ·æƒé™" aria-label="Permalink to &quot;ç”¨æˆ·æƒé™&quot;">â€‹</a></h3><ul><li><code>GET /api/auth/permissions</code> - è·å–å½“å‰ç”¨æˆ·çš„æƒé™å’Œèœå•</li></ul><hr><p><strong>æœ€åæ›´æ–°</strong>: 2025-10-27</p>`,82)])])}const g=i(p,[["render",t]]);export{o as __pageData,g as default};
