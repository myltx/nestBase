import{_ as o,c as a,o as t,a0 as r}from"./chunks/framework.CHkYM5Ax.js";const h=JSON.parse('{"title":"API 简化与重构验证报告 (Phase 2)","description":"","frontmatter":{},"headers":[],"relativePath":"reports/api_refactor_tags_logs_categories_report.md","filePath":"reports/api_refactor_tags_logs_categories_report.md","lastUpdated":1766977345000}'),s={name:"reports/api_refactor_tags_logs_categories_report.md"};function l(i,e,c,d,g,n){return t(),a("div",null,[...e[0]||(e[0]=[r('<h1 id="api-简化与重构验证报告-phase-2" tabindex="-1">API 简化与重构验证报告 (Phase 2) <a class="header-anchor" href="#api-简化与重构验证报告-phase-2" aria-label="Permalink to &quot;API 简化与重构验证报告 (Phase 2)&quot;">​</a></h1><h2 id="_1-改动概述" tabindex="-1">1. 改动概述 <a class="header-anchor" href="#_1-改动概述" aria-label="Permalink to &quot;1. 改动概述&quot;">​</a></h2><p>第二阶段重构针对 <code>Tags</code>, <code>Logs</code>, <code>Categories</code> 模块进行了接口精简和优化，重点在于合并重复查询接口和规范化参数设计。</p><h2 id="_2-详细改动" tabindex="-1">2. 详细改动 <a class="header-anchor" href="#_2-详细改动" aria-label="Permalink to &quot;2. 详细改动&quot;">​</a></h2><h3 id="tags-模块-标签" tabindex="-1">Tags 模块 (标签) <a class="header-anchor" href="#tags-模块-标签" aria-label="Permalink to &quot;Tags 模块 (标签)&quot;">​</a></h3><ul><li><strong>统一查询接口</strong>: 移除 <code>/tags/page</code> 和 <code>/tags/popular</code>，统一合并至 <code>GET /tags</code>。 <ul><li><strong>普通查询</strong>: <code>GET /tags</code> (返回全量或默认列表)</li><li><strong>分页/搜索</strong>: <code>GET /tags?current=1&amp;size=10&amp;search=keyword</code></li><li><strong>热门/排序</strong>: <code>GET /tags?sort=popular&amp;limit=10</code> (配合 size 使用)</li></ul></li><li><strong>DTO 调整</strong>: <code>QueryTagDto</code> 新增 <code>sort</code> 参数。</li></ul><h3 id="logs-模块-日志" tabindex="-1">Logs 模块 (日志) <a class="header-anchor" href="#logs-模块-日志" aria-label="Permalink to &quot;Logs 模块 (日志)&quot;">​</a></h3><ul><li><strong>统一日志查询</strong>: 移除独立的 <code>/logs/access</code> 和 <code>/logs/login</code> 接口，统一合并至 <code>GET /logs</code>。 <ul><li><strong>查询访问日志</strong>: <code>GET /logs?type=ACCESS</code> (默认)</li><li><strong>查询登录日志</strong>: <code>GET /logs?type=LOGIN</code></li><li><strong>DTO 统一</strong>: 创建 <code>QueryLogDto</code> 统一处理参数。</li></ul></li><li><strong>统一统计接口</strong>: 合并统计接口至 <code>GET /logs/stats?type=ACCESS|LOGIN</code>。</li></ul><h3 id="categories-模块-分类" tabindex="-1">Categories 模块 (分类) <a class="header-anchor" href="#categories-模块-分类" aria-label="Permalink to &quot;Categories 模块 (分类)&quot;">​</a></h3><ul><li><strong>统一列表查询</strong>: 移除 <code>/categories/flat</code>，统一合并至 <code>GET /categories</code>。 <ul><li><strong>树形结构</strong>: <code>GET /categories</code> (或 <code>?format=tree</code>)</li><li><strong>扁平结构</strong>: <code>GET /categories?format=flat</code></li></ul></li><li><strong>移除冗余接口</strong>: 移除 <code>GET /categories/slug/:slug</code> (确认未使用)。</li></ul><h2 id="_3-验证结果" tabindex="-1">3. 验证结果 <a class="header-anchor" href="#_3-验证结果" aria-label="Permalink to &quot;3. 验证结果&quot;">​</a></h2><ul><li><strong>编译检查</strong>: 运行 <code>npm run build</code> 通过，无类型错误。</li><li><strong>依赖清理</strong>: 代码逻辑已适配新接口签名。</li></ul><h2 id="_4-前端适配建议" tabindex="-1">4. 前端适配建议 <a class="header-anchor" href="#_4-前端适配建议" aria-label="Permalink to &quot;4. 前端适配建议&quot;">​</a></h2><p>前端代码需同步更新 API 调用：</p><ul><li>所有标签查询统一调用 <code>/tags</code>，根据需要传参。</li><li>日志页面需统一调用 <code>/logs</code>，通过 <code>type</code> 区分 Tabs。</li><li>分类选择器若需要扁平数据，调用 <code>/categories?format=flat</code>。</li></ul>',15)])])}const u=o(s,[["render",l]]);export{h as __pageData,u as default};
