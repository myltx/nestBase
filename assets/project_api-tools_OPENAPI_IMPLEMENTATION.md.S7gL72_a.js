import{_ as i,c as a,o as n,a0 as t}from"./chunks/framework.CHkYM5Ax.js";const g=JSON.parse('{"title":"OpenAPI æ–‡æ¡£å¯¼å‡ºå®ç°è¯´æ˜","description":"","frontmatter":{},"headers":[],"relativePath":"project/api-tools/OPENAPI_IMPLEMENTATION.md","filePath":"project/api-tools/OPENAPI_IMPLEMENTATION.md","lastUpdated":1762852082000}'),l={name:"project/api-tools/OPENAPI_IMPLEMENTATION.md"};function h(p,s,k,e,r,E){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="openapi-æ–‡æ¡£å¯¼å‡ºå®ç°è¯´æ˜" tabindex="-1">OpenAPI æ–‡æ¡£å¯¼å‡ºå®ç°è¯´æ˜ <a class="header-anchor" href="#openapi-æ–‡æ¡£å¯¼å‡ºå®ç°è¯´æ˜" aria-label="Permalink to &quot;OpenAPI æ–‡æ¡£å¯¼å‡ºå®ç°è¯´æ˜&quot;">â€‹</a></h1><h2 id="âœ…-å·²å®ç°åŠŸèƒ½" tabindex="-1">âœ… å·²å®ç°åŠŸèƒ½ <a class="header-anchor" href="#âœ…-å·²å®ç°åŠŸèƒ½" aria-label="Permalink to &quot;âœ… å·²å®ç°åŠŸèƒ½&quot;">â€‹</a></h2><h3 id="_1-openapi-json-æ¥å£" tabindex="-1">1. <strong>OpenAPI JSON æ¥å£</strong> <a class="header-anchor" href="#_1-openapi-json-æ¥å£" aria-label="Permalink to &quot;1. **OpenAPI JSON æ¥å£**&quot;">â€‹</a></h3><p><strong>æ¥å£</strong>: <code>GET /api/swagger/json</code></p><p><strong>åŠŸèƒ½</strong>: è¿”å›å®Œæ•´çš„ OpenAPI 3.0 è§„èŒƒ JSON æ–‡æ¡£ï¼Œç”¨äº Apifoxã€Postman ç­‰å·¥å…·å¯¼å…¥</p><p><strong>ç‰¹æ€§</strong>:</p><ul><li>âœ… ç›´æ¥è¿”å›æ ‡å‡† OpenAPI JSON æ ¼å¼</li><li>âœ… <strong>ä¸åŒ…è£…åœ¨ç»Ÿä¸€å“åº”æ ¼å¼ä¸­</strong>ï¼ˆä½¿ç”¨ <code>@SkipTransform()</code> è£…é¥°å™¨ï¼‰</li><li>âœ… å…¬å¼€è®¿é—®ï¼Œæ— éœ€è®¤è¯ï¼ˆ<code>@Public()</code> è£…é¥°å™¨ï¼‰</li><li>âœ… ä¸åœ¨ Swagger UI ä¸­æ˜¾ç¤ºï¼ˆ<code>@ApiExcludeEndpoint()</code> é¿å…é€’å½’ï¼‰</li></ul><h3 id="_2-api-ç»Ÿè®¡æ¥å£" tabindex="-1">2. <strong>API ç»Ÿè®¡æ¥å£</strong> <a class="header-anchor" href="#_2-api-ç»Ÿè®¡æ¥å£" aria-label="Permalink to &quot;2. **API ç»Ÿè®¡æ¥å£**&quot;">â€‹</a></h3><p><strong>æ¥å£</strong>: <code>GET /api/swagger/stats</code></p><p><strong>åŠŸèƒ½</strong>: è¿”å› API ç»Ÿè®¡ä¿¡æ¯ï¼ˆæ€»æ¥å£æ•°ã€åˆ†ç»„ã€æœåŠ¡å™¨ç­‰ï¼‰</p><p><strong>ç‰¹æ€§</strong>:</p><ul><li>âœ… åŒ…è£…åœ¨ç»Ÿä¸€å“åº”æ ¼å¼ä¸­ï¼ˆæ­£å¸¸ä½¿ç”¨ TransformInterceptorï¼‰</li><li>âœ… å…¬å¼€è®¿é—®</li><li>âœ… åœ¨ Swagger UI ä¸­æ˜¾ç¤º</li></ul><hr><h2 id="ğŸ”§-æŠ€æœ¯å®ç°" tabindex="-1">ğŸ”§ æŠ€æœ¯å®ç° <a class="header-anchor" href="#ğŸ”§-æŠ€æœ¯å®ç°" aria-label="Permalink to &quot;ğŸ”§ æŠ€æœ¯å®ç°&quot;">â€‹</a></h2><h3 id="æ ¸å¿ƒç»„ä»¶" tabindex="-1">æ ¸å¿ƒç»„ä»¶ <a class="header-anchor" href="#æ ¸å¿ƒç»„ä»¶" aria-label="Permalink to &quot;æ ¸å¿ƒç»„ä»¶&quot;">â€‹</a></h3><h4 id="_1-skiptransform-è£…é¥°å™¨" tabindex="-1">1. <strong>SkipTransform è£…é¥°å™¨</strong> <a class="header-anchor" href="#_1-skiptransform-è£…é¥°å™¨" aria-label="Permalink to &quot;1. **SkipTransform è£…é¥°å™¨**&quot;">â€‹</a></h4><p>æ–‡ä»¶: <code>src/common/decorators/skip-transform.decorator.ts</code></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { SetMetadata } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/common&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SKIP_TRANSFORM_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;skipTransform&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SkipTransform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SetMetadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SKIP_TRANSFORM_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><strong>ä½œç”¨</strong>: æ ‡è®°æ¥å£è·³è¿‡å…¨å±€çš„ TransformInterceptor</p><h4 id="_2-transforminterceptor-æ›´æ–°" tabindex="-1">2. <strong>TransformInterceptor æ›´æ–°</strong> <a class="header-anchor" href="#_2-transforminterceptor-æ›´æ–°" aria-label="Permalink to &quot;2. **TransformInterceptor æ›´æ–°**&quot;">â€‹</a></h4><p>æ–‡ä»¶: <code>src/common/interceptors/transform.interceptor.ts</code></p><p><strong>æ–°å¢é€»è¾‘</strong>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Reflector } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/core&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { SKIP_TRANSFORM_KEY } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../decorators/skip-transform.decorator&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Injectable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransformInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NestInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> reflector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Reflector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  intercept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExecutionContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CallHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ£€æŸ¥æ˜¯å¦è·³è¿‡è½¬æ¢</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> skipTransform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.reflector.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllAndOverride</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SKIP_TRANSFORM_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      context.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      context.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (skipTransform) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ç›´æ¥è¿”å›åŸå§‹æ•°æ®ï¼Œä¸åšè½¬æ¢</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ­£å¸¸è½¬æ¢ï¼ˆåŒ…è£…å“åº”ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        success: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        data: data,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;success&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        timestamp: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toISOString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>åŠŸèƒ½</strong>:</p><ul><li>ä½¿ç”¨ Reflector æ£€æŸ¥ <code>@SkipTransform()</code> å…ƒæ•°æ®</li><li>å¦‚æœæ ‡è®°è·³è¿‡ï¼Œç›´æ¥è¿”å›åŸå§‹æ•°æ®</li><li>å¦åˆ™åŒ…è£…æˆç»Ÿä¸€æ ¼å¼</li></ul><h4 id="_3-swaggercontroller" tabindex="-1">3. <strong>SwaggerController</strong> <a class="header-anchor" href="#_3-swaggercontroller" aria-label="Permalink to &quot;3. **SwaggerController**&quot;">â€‹</a></h4><p>æ–‡ä»¶: <code>src/modules/swagger/swagger.controller.ts</code></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Controller</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;swagger&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SwaggerController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å…¬å¼€è®¿é—®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SkipTransform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·³è¿‡å“åº”åŒ…è£…</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ApiExcludeEndpoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸åœ¨ Swagger UI æ˜¾ç¤º</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getOpenApiJson</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.swaggerService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDocument</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;stats&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å…¬å¼€è®¿é—®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¸ä½¿ç”¨ @SkipTransform()ï¼Œä¼šæ­£å¸¸åŒ…è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getStats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.swaggerService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getStats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="_4-swaggerservice" tabindex="-1">4. <strong>SwaggerService</strong> <a class="header-anchor" href="#_4-swaggerservice" aria-label="Permalink to &quot;4. **SwaggerService**&quot;">â€‹</a></h4><p>æ–‡ä»¶: <code>src/modules/swagger/swagger.service.ts</code></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Injectable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SwaggerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> document</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OpenAPIObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setDocument</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">document</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OpenAPIObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.document </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getDocument</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OpenAPIObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.document;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getStats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿”å›ç»Ÿè®¡ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      title: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.document.info?.title,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      version: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.document.info?.version,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      totalEndpoints: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      totalPaths: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      tags: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="_5-main-ts-é›†æˆ" tabindex="-1">5. <strong>main.ts é›†æˆ</strong> <a class="header-anchor" href="#_5-main-ts-é›†æˆ" aria-label="Permalink to &quot;5. **main.ts é›†æˆ**&quot;">â€‹</a></h4><p>æ–‡ä»¶: <code>src/main.ts</code></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bootstrap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NestFactory.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(AppModule);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é…ç½® Swagger å¹¶è·å– document</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> document</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setupSwagger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(app);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å°† document æ³¨å…¥åˆ° SwaggerService</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> swaggerService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(SwaggerService);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  swaggerService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setDocument</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(document);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(port);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="ğŸ“‹-å“åº”æ ¼å¼å¯¹æ¯”" tabindex="-1">ğŸ“‹ å“åº”æ ¼å¼å¯¹æ¯” <a class="header-anchor" href="#ğŸ“‹-å“åº”æ ¼å¼å¯¹æ¯”" aria-label="Permalink to &quot;ğŸ“‹ å“åº”æ ¼å¼å¯¹æ¯”&quot;">â€‹</a></h2><h3 id="api-swagger-json-åŸå§‹-openapi-json" tabindex="-1"><code>/api/swagger/json</code> - åŸå§‹ OpenAPI JSON <a class="header-anchor" href="#api-swagger-json-åŸå§‹-openapi-json" aria-label="Permalink to &quot;\`/api/swagger/json\` - åŸå§‹ OpenAPI JSON&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;openapi&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;info&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;paths&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;components&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>âœ… æ­£ç¡®</strong>: ç›´æ¥è¿”å›æ ‡å‡† OpenAPI æ ¼å¼ï¼ŒApifox å¯ä»¥æ­£ç¡®è§£æ</p><h3 id="api-swagger-stats-ç»Ÿä¸€åŒ…è£…æ ¼å¼" tabindex="-1"><code>/api/swagger/stats</code> - ç»Ÿä¸€åŒ…è£…æ ¼å¼ <a class="header-anchor" href="#api-swagger-stats-ç»Ÿä¸€åŒ…è£…æ ¼å¼" aria-label="Permalink to &quot;\`/api/swagger/stats\` - ç»Ÿä¸€åŒ…è£…æ ¼å¼&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NestBase API Documentation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;totalEndpoints&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">    ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-10-16T06:30:00.000Z&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>âœ… æ­£ç¡®</strong>: åŒ…è£…åœ¨ç»Ÿä¸€å“åº”æ ¼å¼ä¸­ï¼Œä¸å…¶ä»– API ä¿æŒä¸€è‡´</p><hr><h2 id="ğŸ¯-ä½¿ç”¨åœºæ™¯" tabindex="-1">ğŸ¯ ä½¿ç”¨åœºæ™¯ <a class="header-anchor" href="#ğŸ¯-ä½¿ç”¨åœºæ™¯" aria-label="Permalink to &quot;ğŸ¯ ä½¿ç”¨åœºæ™¯&quot;">â€‹</a></h2><h3 id="åœºæ™¯-1-apifox-è‡ªåŠ¨å¯¼å…¥" tabindex="-1">åœºæ™¯ 1: Apifox è‡ªåŠ¨å¯¼å…¥ <a class="header-anchor" href="#åœºæ™¯-1-apifox-è‡ªåŠ¨å¯¼å…¥" aria-label="Permalink to &quot;åœºæ™¯ 1: Apifox è‡ªåŠ¨å¯¼å…¥&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>URL: http://localhost:3001/api/swagger/json</span></span></code></pre></div><p>Apifox ä¼šï¼š</p><ol><li>å‘é€ GET è¯·æ±‚åˆ°è¯¥ URL</li><li>æ¥æ”¶åˆ°æ ‡å‡† OpenAPI JSON</li><li>è§£æå¹¶å¯¼å…¥æ‰€æœ‰æ¥å£å®šä¹‰</li><li>è‡ªåŠ¨åˆ›å»ºæ¥å£åˆ†ç»„å’Œæ•°æ®æ¨¡å‹</li></ol><h3 id="åœºæ™¯-2-æŸ¥çœ‹-api-ç»Ÿè®¡" tabindex="-1">åœºæ™¯ 2: æŸ¥çœ‹ API ç»Ÿè®¡ <a class="header-anchor" href="#åœºæ™¯-2-æŸ¥çœ‹-api-ç»Ÿè®¡" aria-label="Permalink to &quot;åœºæ™¯ 2: æŸ¥çœ‹ API ç»Ÿè®¡&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:3001/api/swagger/stats</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å“åº”ï¼ˆåŒ…è£…æ ¼å¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;success&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;data&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    &quot;totalEndpoints&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 18,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    &quot;totalPaths&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    &quot;tags&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [...]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="ğŸ› ï¸-æ‰©å±•ç”¨æ³•" tabindex="-1">ğŸ› ï¸ æ‰©å±•ç”¨æ³• <a class="header-anchor" href="#ğŸ› ï¸-æ‰©å±•ç”¨æ³•" aria-label="Permalink to &quot;ğŸ› ï¸ æ‰©å±•ç”¨æ³•&quot;">â€‹</a></h2><h3 id="å…¶ä»–éœ€è¦è·³è¿‡åŒ…è£…çš„åœºæ™¯" tabindex="-1">å…¶ä»–éœ€è¦è·³è¿‡åŒ…è£…çš„åœºæ™¯ <a class="header-anchor" href="#å…¶ä»–éœ€è¦è·³è¿‡åŒ…è£…çš„åœºæ™¯" aria-label="Permalink to &quot;å…¶ä»–éœ€è¦è·³è¿‡åŒ…è£…çš„åœºæ™¯&quot;">â€‹</a></h3><p>å¦‚æœæœ‰å…¶ä»–æ¥å£éœ€è¦è¿”å›åŸå§‹æ•°æ®ï¼Œåªéœ€æ·»åŠ  <code>@SkipTransform()</code> è£…é¥°å™¨ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Controller</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;files&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FilesController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;download&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SkipTransform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›´æ¥è¿”å›æ–‡ä»¶æµ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  downloadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> streamFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="é€‚ç”¨åœºæ™¯" tabindex="-1">é€‚ç”¨åœºæ™¯ <a class="header-anchor" href="#é€‚ç”¨åœºæ™¯" aria-label="Permalink to &quot;é€‚ç”¨åœºæ™¯&quot;">â€‹</a></h3><ul><li>âœ… æ–‡ä»¶ä¸‹è½½ï¼ˆè¿”å› Buffer/Streamï¼‰</li><li>âœ… ç¬¬ä¸‰æ–¹æ ¼å¼è§„èŒƒï¼ˆOpenAPIã€RSSã€Sitemap ç­‰ï¼‰</li><li>âœ… Webhook å›è°ƒï¼ˆéœ€è¦ç‰¹å®šå“åº”æ ¼å¼ï¼‰</li><li>âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼ˆè¿”å›ç®€å•çŠ¶æ€ï¼‰</li></ul><hr><h2 id="ğŸ“Š-æŠ€æœ¯ä¼˜åŠ¿" tabindex="-1">ğŸ“Š æŠ€æœ¯ä¼˜åŠ¿ <a class="header-anchor" href="#ğŸ“Š-æŠ€æœ¯ä¼˜åŠ¿" aria-label="Permalink to &quot;ğŸ“Š æŠ€æœ¯ä¼˜åŠ¿&quot;">â€‹</a></h2><ol><li><strong>æ ‡å‡†å…¼å®¹</strong>: ç¬¦åˆ OpenAPI 3.0 è§„èŒƒï¼Œæ‰€æœ‰å·¥å…·éƒ½èƒ½è¯†åˆ«</li><li><strong>çµæ´»æ§åˆ¶</strong>: é€šè¿‡è£…é¥°å™¨ç²¾ç¡®æ§åˆ¶å“ªäº›æ¥å£éœ€è¦åŒ…è£…</li><li><strong>ç»Ÿä¸€ç®¡ç†</strong>: æ‰€æœ‰å“åº”å¤„ç†é€»è¾‘é›†ä¸­åœ¨ TransformInterceptor</li><li><strong>æ˜“äºæ‰©å±•</strong>: æ–°å¢è·³è¿‡åŒ…è£…çš„åœºæ™¯åªéœ€æ·»åŠ è£…é¥°å™¨</li><li><strong>ç±»å‹å®‰å…¨</strong>: ä½¿ç”¨ TypeScript ä¿è¯ç±»å‹æ­£ç¡®æ€§</li></ol><hr><h2 id="âœ…-éªŒè¯æµ‹è¯•" tabindex="-1">âœ… éªŒè¯æµ‹è¯• <a class="header-anchor" href="#âœ…-éªŒè¯æµ‹è¯•" aria-label="Permalink to &quot;âœ… éªŒè¯æµ‹è¯•&quot;">â€‹</a></h2><h3 id="æµ‹è¯•-openapi-json" tabindex="-1">æµ‹è¯• OpenAPI JSON <a class="header-anchor" href="#æµ‹è¯•-openapi-json" aria-label="Permalink to &quot;æµ‹è¯• OpenAPI JSON&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åº”è¯¥ç›´æ¥è¿”å› OpenAPI JSONï¼ˆä¸åŒ…è£…ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:3001/api/swagger/json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.openapi&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¾“å‡º: &quot;3.0.0&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä¸åº”è¯¥æœ‰ success å­—æ®µ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:3001/api/swagger/json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.success&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¾“å‡º: null</span></span></code></pre></div><h3 id="æµ‹è¯•-api-ç»Ÿè®¡" tabindex="-1">æµ‹è¯• API ç»Ÿè®¡ <a class="header-anchor" href="#æµ‹è¯•-api-ç»Ÿè®¡" aria-label="Permalink to &quot;æµ‹è¯• API ç»Ÿè®¡&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åº”è¯¥è¿”å›åŒ…è£…æ ¼å¼</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:3001/api/swagger/stats</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.success&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¾“å‡º: true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># data å­—æ®µåŒ…å«ç»Ÿè®¡ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:3001/api/swagger/stats</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.data.totalEndpoints&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¾“å‡º: 18</span></span></code></pre></div><hr><h2 id="ğŸ“š-ç›¸å…³æ–‡ä»¶" tabindex="-1">ğŸ“š ç›¸å…³æ–‡ä»¶ <a class="header-anchor" href="#ğŸ“š-ç›¸å…³æ–‡ä»¶" aria-label="Permalink to &quot;ğŸ“š ç›¸å…³æ–‡ä»¶&quot;">â€‹</a></h2><ul><li><code>src/common/decorators/skip-transform.decorator.ts</code> - è·³è¿‡è½¬æ¢è£…é¥°å™¨</li><li><code>src/common/interceptors/transform.interceptor.ts</code> - å“åº”è½¬æ¢æ‹¦æˆªå™¨ï¼ˆå·²æ›´æ–°ï¼‰</li><li><code>src/modules/swagger/swagger.controller.ts</code> - Swagger æ§åˆ¶å™¨</li><li><code>src/modules/swagger/swagger.service.ts</code> - Swagger æœåŠ¡</li><li><code>src/modules/swagger/swagger.module.ts</code> - Swagger æ¨¡å—</li><li><code>src/config/swagger.config.ts</code> - Swagger é…ç½®</li><li><code>src/main.ts</code> - åº”ç”¨å…¥å£ï¼ˆæ³¨å…¥ documentï¼‰</li></ul><hr><p><strong>æœ€åæ›´æ–°</strong>: 2025-10-16 <strong>ç‰ˆæœ¬</strong>: 1.0.0 <strong>çŠ¶æ€</strong>: âœ… å·²å®ç°å¹¶æµ‹è¯•é€šè¿‡</p>`,71)])])}const o=i(l,[["render",h]]);export{g as __pageData,o as default};
